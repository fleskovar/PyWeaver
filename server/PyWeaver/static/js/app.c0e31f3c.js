(function(e){function t(t){for(var a,r,s=t[0],d=t[1],c=t[2],u=0,_=[];u<s.length;u++)r=s[u],n[r]&&_.push(n[r][0]),n[r]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);l&&l(t);while(_.length)_.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],a=!0,s=1;s<o.length;s++){var d=o[s];0!==n[d]&&(a=!1)}a&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var a={},n={app:0},i=[];function r(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=a,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=d;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var a=o("1356"),n=o.n(a);n.a},1:function(e,t){},1356:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var a=o("a026"),n=o("bb71"),i=o("8336");o("da64");a["a"].use(n["a"],{iconfont:"md",components:{VBtn:i["a"]}});var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",[o("v-toolbar",{attrs:{app:"",dark:"",fixed:"","clipped-left":""}},[o("v-toolbar-title",{staticClass:"headline text-uppercase"},[o("span",[e._v("Py")]),o("span",{staticClass:"font-weight-light"},[e._v("Weaver")]),o("span",[e._v("2")])]),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{flat:"",small:""},on:{click:e.OpenFile}},[o("span",[e._v("Open file")]),o("v-icon",[e._v("folder_open")])],1),o("v-btn",{attrs:{flat:"",small:""},on:{click:e.SaveModel}},[o("span",[e._v("Save model")]),o("v-icon",[e._v("cloud_download")])],1)],1),e.connected?o("v-chip",{attrs:{color:"green","text-color":"white"}},[e._v("Connected")]):e._e(),e.connected?e._e():o("v-chip",{attrs:{color:"red","text-color":"white"}},[e._v("Disconnected")])],1),o("input",{attrs:{type:"file",id:"fileInput",hidden:""},on:{change:function(t){return e.OpenModel(t)}}}),o("SideBar"),o("v-content",{attrs:{app:""}},[o("v-card",{attrs:{height:"100%"}},[o("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"canvas"}})])],1),o("CodeEditor"),o("LibrarySaveDialog"),o("v-footer",{staticClass:"pa-3",attrs:{app:"",dark:""}},[o("v-btn",{attrs:{color:"gray",dark:""},on:{click:e.resetServer}},[e._v("Reset")]),o("v-spacer"),o("div",[e._v("© "+e._s((new Date).getFullYear()))])],1)],1)},s=[],d=(o("6762"),o("2fdb"),o("d225")),c=o("b0b4"),l=new a["a"],u=function(){function e(t,o){Object(d["a"])(this,e),this.container=t,this.graph={},this.store=o,this.codeNode={}}return Object(c["a"])(e,[{key:"GetModelXML",value:function(){var e=this.graph,t=new mxCodec,o=t.encode(e.getModel()),a=mxUtils.getPrettyXml(o);return a}},{key:"LoadModel",value:function(e){var t=this.graph,o=e,a=mxUtils.parseXml(o),n=a.documentElement,i=new mxCodec(n.ownerDocument);i.decode(n,t.getModel())}},{key:"mount",value:function(){var e=this;mxEvent.disableContextMenu(this.container),mxGraph.prototype.isCellMovable=function(e){if(this.lastEvent.altKey)return!1;var t=this.view.getState(e),o=null!=t?t.style:this.getCellStyle(e);return this.isCellsMovable()&&!this.isCellLocked(e)&&0!=o[mxConstants.STYLE_MOVABLE]};var t=new mxGraph(this.container);this.graph=t,t.store=this.store,t.setAllowDanglingEdges(!1),t.setConnectable(!0),t.setMultigraph(!0),t.isCellEditable=function(e){return!1},t.htmlLabels=!0,t.autoSizeCells=!0,t.foldingEnabled=!1;var o=t.getStylesheet().getDefaultVertexStyle();o["fillColor"]="#FFFFFF",o["strokeColor"]="#000000",o["fontColor"]="#000000",o["fontStyle"]="1",o=t.getStylesheet().getDefaultEdgeStyle(),o["strokeColor"]="#000000",o["fontColor"]="#000000",o["fontStyle"]="0",o["fontStyle"]="0",o["startSize"]="8",o["endSize"]="8",o[mxConstants.STYLE_ROUNDED]=!0,o[mxConstants.STYLE_EDGE]=mxEdgeStyle.EntityRelation,o[mxConstants.STYLE_STROKEWIDTH]="1",o[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR]="#FFFFFF",mxRubberband.prototype.isForceRubberbandEvent=function(e){return!1},new mxRubberband(t),t.isPort=function(e){this.getCellGeometry(e);return!1},mxEvent.addMouseWheelListener(mxUtils.bind(this,function(e,o){1==e.altKey&&(1==o?t.zoomIn():t.zoomOut())}));var a=new mxKeyHandler(t);a.bindKey(46,function(e){t.isEnabled()&&t.removeCells()}),t.connectionHandler.addListener(mxEvent.CONNECT,function(t,o){var a=o.getProperty("cell"),n={source_id:a.source.parent.id,target_id:a.target.parent.id,source_var:a.source.value,target_var:a.target.value};e.store.dispatch("add_connection",n)}),t.addListener(mxEvent.DOUBLE_CLICK,function(t,o){var a=o.getProperty("cell");if(null!=a&&a.isNode){var n=e.store.state.code_nodes[a.id];e.store.dispatch("open_code_editor",n)}}),t.addListener(mxEvent.MOUSE_MOVE,function(e,o){t.isMouseDown&&console.log("yay")}),t.addListener(mxEvent.CELLS_REMOVED,function(t,o){for(var a=o.properties.cells,n=0;n<a.length;n++){var i=a[n];if(i.edge){var r={source_id:i.source.parent.id,source_var:i.source.value,target_id:i.target.parent.id,target_var:i.target.value};e.store.dispatch("remove_connection",r)}}for(n=0;n<a.length;n++){i=a[n];i.isNode&&e.store.dispatch("delete_node",i.id)}})}},{key:"addNode",value:function(e){var t=null,o=this.graph.getDefaultParent();this.graph.getModel().beginUpdate();try{var a=[],n=[];for(var i in e.outputs)a.push(i);for(var i in e.inputs)n.push(i);var r=30*Math.max(a.length,n.length)+40;t=this.graph.insertVertex(o,null,"",20,20,80,r,"verticalAlign=top");t.value="<div id='node_"+t.id+"'></div>",t.display_act_code="",t.setConnectable(!1),t.isNode=!0}finally{this.graph.getModel().endUpdate()}return this.changePorts(t,a,1,"output"),this.changePorts(t,n,0,"input"),t}},{key:"changePorts",value:function(e,t,o,a){var n=this.graph.getModel(),i=[],r=[],s="";s=0==o?"labelPosition=right;align=left;deletable=0":"labelPosition=left;align=right;deletable=0",this.graph.getModel().beginUpdate();try{if(e.children)for(var d=0;d<e.children.length;d++){var c=e.children[d],l=c.value,u=c.tag;t.includes(l)||u!=a?u==a&&(r.push(c),i.push(l)):(this.graph.removeCells(n.getEdges(c),!1),this.graph.removeCells([c],!1),d-=1)}for(d=0;d<t.length;d++){l=t[d];if(i.includes(l)){_=r[d];_.geometry.y=1/(t.length+1)*(d+1)}else{var _=this.graph.insertVertex(e,null,l,o,1/(t.length+1)*(d+1),10,10,s,!0);_.geometry.offset=new mxPoint(-5,-5),_.setConnectable(!0),_.tag=a}}this.graph.getView().validate()}finally{this.graph.getModel().endUpdate()}}},{key:"updateCell",value:function(e){this.graph.getView().clear(e,!1,!1),this.graph.getView().validate()}}]),e}(),_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{attrs:{width:"800",persistent:""},on:{keydown:e.codeDialogShortcuts},model:{value:e.code_dialog,callback:function(t){e.code_dialog=t},expression:"code_dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"gray"}},[o("v-toolbar-title",[e._v("Editor")]),o("v-btn",{attrs:{icon:""},on:{click:e.openSaveDialog}},[o("v-icon",[e._v("save")])],1),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{icon:"",dark:""},on:{click:e.closeDialog}},[o("v-icon",[e._v("close")])],1)],1)],1),o("v-card-text",[o("v-tabs",{attrs:{dark:""}},[o("v-tab",[e._v("Code")]),o("v-tab-item",[o("codemirror",{ref:"code_editor",attrs:{options:e.cmOptions},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),o("v-tab",[e._v("Display")]),o("v-tab-item",[o("codemirror",{ref:"code_editor",attrs:{options:e.dispCmOptions},model:{value:e.display_code,callback:function(t){e.display_code=t},expression:"display_code"}})],1),o("v-tab",[e._v("Display Actions")]),o("v-tab-item",[o("codemirror",{ref:"code_editor",attrs:{options:e.dispActCmOptions},model:{value:e.display_act_code,callback:function(t){e.display_act_code=t},expression:"display_act_code"}})],1)],1),o("v-spacer")],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"green",flat:"",dark:""},on:{click:e.saveCode}},[e._v("Update")])],1)],1)],1)},v=[],p=(o("a7be"),o("db91"),o("8c2e"),o("d69f"),o("f9d4"),o("8f94")),f={components:{codemirror:p["codemirror"]},data:function(){return{cmOptions:{tabSize:4,indentUnit:4,mode:"python",lineNumbers:!0,indentWithTabs:!0,viewportMargin:1/0,line:!0,theme:"base16-dark",autoRefresh:!0},dispCmOptions:{tabSize:4,indentUnit:4,mode:"htmlmixed",lineNumbers:!0,indentWithTabs:!0,viewportMargin:1/0,line:!0,theme:"base16-dark",autoRefresh:!0},dispActCmOptions:{tabSize:4,indentUnit:4,mode:"javascript",lineNumbers:!0,indentWithTabs:!0,viewportMargin:1/0,line:!0,theme:"base16-dark",autoRefresh:!0}}},methods:{closeDialog:function(){this.code_dialog=!1},openSaveDialog:function(){this.$store.commit("set_dialog_open",!0)},saveCode:function(){this.$store.dispatch("save_node_code",{code:this.code,display_code:this.display_code,display_act_code:this.display_act_code}),this.closeDialog()},codeDialogShortcuts:function(e){13===e.keyCode&&e.shiftKey?this.saveCode():27===e.keyCode&&this.closeDialog()}},computed:{code:{get:function(){return this.$store.state.code},set:function(e){this.$store.commit("set_code",e)}},display_code:{get:function(){return this.$store.state.display_code},set:function(e){this.$store.commit("set_display_code",e)}},display_act_code:{get:function(){return this.$store.state.display_act_code},set:function(e){this.$store.commit("set_display_act_code",e)}},code_dialog:{get:function(){return this.$store.state.open_code_editor},set:function(e){this.$store.commit("open_editor",e)}}}},h=f,m=o("2877"),g=o("6544"),b=o.n(g),y=o("b0af"),x=o("99d9"),k=o("169a"),w=o("132d"),C=o("9910"),S=o("71a3"),D=o("c671"),$=o("fe57"),V=o("71d9"),T=o("2a7f"),E=Object(m["a"])(h,_,v,!1,null,null,null),O=E.exports;b()(E,{VBtn:i["a"],VCard:y["a"],VCardActions:x["a"],VCardText:x["b"],VDialog:k["a"],VIcon:w["a"],VSpacer:C["a"],VTab:S["a"],VTabItem:D["a"],VTabs:$["a"],VToolbar:V["a"],VToolbarItems:T["a"],VToolbarTitle:T["b"]});var N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-navigation-drawer",{attrs:{permanent:"",clipped:"",dark:"",app:"",width:"300","mini-variant":e.drawer_mini}},[o("v-list",[o("v-list-tile",[o("v-list-tile-content"),o("v-list-tile-action",{on:{click:e.toggleMiniDrawer}},[o("v-btn",{attrs:{icon:""}},[e.drawer_mini?o("v-icon",[e._v("keyboard_arrow_right")]):e._e(),e.drawer_mini?e._e():o("v-icon",[e._v("keyboard_arrow_left")])],1)],1)],1),o("v-list-tile",[o("v-list-tile-content",[o("br"),o("br"),o("v-text-field",{attrs:{label:"Document name"},model:{value:e.document_name,callback:function(t){e.document_name=t},expression:"document_name"}}),o("br")],1)],1),o("v-divider"),o("v-list-tile",{on:{click:e.addNode,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.shiftKey?e.canvasShortcuts(t):null}}},[o("v-list-tile-action",[o("v-btn",{staticClass:"text-lg-right",attrs:{icon:""}},[o("v-icon",[e._v("add")])],1)],1),o("v-list-tile-content",[e._v("ADD EMPTY NODE")])],1),o("v-card",{directives:[{name:"show",rawName:"v-show",value:!e.drawer_mini,expression:"!drawer_mini"}],staticStyle:{padding:"10px"}},[o("v-text-field",{attrs:{label:"Search Node Library",dark:"",flat:"","solo-inverted":"","hide-details":"",clearable:"","clear-icon":"mdi-close-circle-outline"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),o("v-card",{directives:[{name:"show",rawName:"v-show",value:!e.drawer_mini,expression:"!drawer_mini"}],staticStyle:{padding:"20px","overflow-y":"scroll"},attrs:{height:"300px",flat:""}},[o("v-treeview",{ref:"tree",attrs:{items:e.items,search:e.search,filter:e.filter,"open-on-click":""},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item;return[a.children?o("v-icon",[e._v("folder")]):e._e(),a.children?e._e():o("v-icon",[e._v("insert_drive_file")])]}},{key:"label",fn:function(t){var a=t.item;return[e._v("\n           "+e._s(a.name)+"\n           "),a.children?e._e():o("v-btn",{attrs:{icon:""},on:{click:function(t){return e.addLibraryNode(a.lib_id)}}},[o("v-icon",[e._v("add_circle_outline")])],1),0==a.id?o("v-btn",{attrs:{icon:""}},[o("v-icon",[e._v("refresh")])],1):e._e()]}}])})],1),o("v-list-tile",{on:{click:e.runServer}},[o("v-list-tile-action",[o("v-btn",{staticClass:"text-lg-right",attrs:{icon:""}},[o("v-icon",[e._v("computer")])],1)],1),o("v-list-tile-content",[e._v("RUN")])],1),o("v-divider"),o("v-list-tile",[o("v-list-tile-action",[o("v-btn",{staticClass:"text-lg-right",attrs:{icon:""}},[o("v-icon",[e._v("settings")])],1)],1),o("v-list-tile-content",[e._v("SETTINGS")])],1)],1)],1)},L=[],M=(o("386d"),o("ffe7")),A=o.n(M),F={mounted:function(){},data:function(){return{drawer_mini:!0,document_name:"",search:"",fuse_options:{keys:["name"],distance:100,location:0,maxPatternLength:32,minMatchCharLength:1,id:"id"}}},methods:{addNode:function(){this.$store.dispatch("add_empty_node")},runServer:function(){this.$store.dispatch("execute_server")},resetServer:function(){this.$socket.emit("reset")},toggleMiniDrawer:function(){this.drawer_mini=!this.drawer_mini},addLibraryNode:function(e){this.$socket.emit("get_template",e,this.addNodeAction)},addNodeAction:function(e){this.$store.dispatch("add_node",e)},treeFilter:function(e,t,o){var a=new A.a(this.items,this.fuse_options),n=a.search(t);return n.indexOf(e.id)>-1}},computed:{items:{get:function(){return this.$store.state.libraryTree}},filter:function(){return this.treeFilter}}},P=F,I=o("ce7e"),j=o("8860"),R=o("ba95"),U=o("40fe"),B=o("5d23"),Y=o("f774"),z=o("2677"),K=o("eb2a"),G=Object(m["a"])(P,N,L,!1,null,null,null),W=G.exports;b()(G,{VBtn:i["a"],VCard:y["a"],VDivider:I["a"],VIcon:w["a"],VList:j["a"],VListTile:R["a"],VListTileAction:U["a"],VListTileContent:B["a"],VNavigationDrawer:Y["a"],VTextField:z["a"],VTreeview:K["a"]});var q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{attrs:{width:"800",persistent:""},model:{value:e.save_dialog,callback:function(t){e.save_dialog=t},expression:"save_dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"gray"}},[o("v-toolbar-title",[e._v("Save to Library")]),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{icon:"",dark:""},on:{click:e.closeDialog}},[o("v-icon",[e._v("close")])],1)],1)],1),o("v-card-text",[o("v-container",{attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs6:""}},[o("v-card",{staticStyle:{"overflow-y":"scroll",border:"2px solid grey","border-radius":"1px"},attrs:{height:"500px",flat:""}},[o("v-treeview",{ref:"tree",attrs:{items:e.libraryTree,activatable:"",active:e.selected_folder,"return-object":""},on:{"update:active":function(t){e.selected_folder=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item;return[o("div",{on:{mouseover:function(t){e.hover_tree_id=a.id},mouseleave:function(t){e.hover_tree_id=-1}}},[a.children?o("v-icon",[e._v("folder")]):e._e(),a.children?e._e():o("v-icon",[e._v("insert_drive_file")])],1)]}},{key:"label",fn:function(t){var a=t.item;return[o("div",{on:{mouseover:function(t){e.hover_tree_id=a.id},mouseleave:function(t){e.hover_tree_id=-1}}},[e._e(),o("span",[e._v(e._s(a.name))]),e._v("\n                                                 \n                                                "),o("a",[a.id==e.hover_tree_id?o("v-icon",{on:{click:function(t){return e.openEditNameDialog(a)}}},[e._v("edit")]):e._e()],1),o("a",[a.id==e.hover_tree_id&&a.children?o("v-icon",{on:{click:function(t){return e.openNewFolderDialog(a)}}},[e._v("create_new_folder")]):e._e()],1),o("a",[a.id==e.hover_tree_id&&a.children?o("v-icon",{on:{click:function(t){return e.openDeleteFolderDialog(a)}}},[e._v("delete_forever")]):e._e()],1)],1)]}}])})],1)],1),o("v-flex",{attrs:{xs6:""}},[o("v-card",{attrs:{flat:"",height:"500px"}},[o("v-text-field",{attrs:{label:"Node Template Name",rules:[e.rules.required],clearable:""},model:{value:e.save_name,callback:function(t){e.save_name=t},expression:"save_name"}}),o("v-textarea",{attrs:{label:"Node Description",value:"Short description of what the node does.","no-resize":"",outline:""}}),o("v-textarea",{attrs:{label:"Search keywords",value:"",hint:"Comma separated keywords","no-resize":"",outline:"","persistent-hint":""}})],1)],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue",flat:"",dark:""},on:{click:e.saveNode}},[e._v("Save")])],1)],1),o("v-dialog",{attrs:{width:"500px"},model:{value:e.add_folder_dialog,callback:function(t){e.add_folder_dialog=t},expression:"add_folder_dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"gray"}},[o("v-toolbar-title",[e._v("New Folder")]),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.add_folder_dialog=!1}}},[o("v-icon",[e._v("close")])],1)],1)],1),o("v-card-text",[o("v-text-field",{attrs:{label:"New Folder Name",rules:[e.rules.required]},model:{value:e.new_folder_name,callback:function(t){e.new_folder_name=t},expression:"new_folder_name"}})],1),o("v-card-actions",[o("v-btn",{attrs:{color:"green",flat:"",dark:""},on:{click:e.createNewFolder}},[e._v("Create")]),o("v-spacer"),o("v-btn",{attrs:{color:"red",flat:"",dark:""},on:{click:function(t){e.add_folder_dialog=!1}}},[e._v("Cancel")])],1)],1)],1),o("v-dialog",{attrs:{width:"500px"},model:{value:e.delete_folder_dialog,callback:function(t){e.delete_folder_dialog=t},expression:"delete_folder_dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"gray"}},[o("v-toolbar-title",[e._v("Delete Folder?")]),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.delete_folder_dialog=!1}}},[o("v-icon",[e._v("close")])],1)],1)],1),o("v-card-text",[e._v("\n                    Are you sure you want to permanently delete the folder and all the content inside?\n                ")]),o("v-card-actions",[o("v-btn",{attrs:{color:"blue",flat:"",dark:""},on:{click:e.deleteFolder}},[e._v("Yes, Delete It")]),o("v-spacer"),o("v-btn",{attrs:{color:"blue",flat:"",dark:""},on:{click:function(t){e.delete_folder_dialog=!1}}},[e._v("No")])],1)],1)],1),o("v-dialog",{attrs:{width:"500px"},model:{value:e.edit_name_dialog,callback:function(t){e.edit_name_dialog=t},expression:"edit_name_dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"gray"}},[o("v-toolbar-title",[e._v("Edit Name")]),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.edit_name_dialog=!1}}},[o("v-icon",[e._v("close")])],1)],1)],1),o("v-card-text",[o("v-text-field",{attrs:{label:"New Name",rules:[e.rules.required]},model:{value:e.new_item_name,callback:function(t){e.new_item_name=t},expression:"new_item_name"}})],1),o("v-card-actions",[o("v-btn",{attrs:{color:"green",flat:"",dark:""},on:{click:e.renameItem}},[e._v("Rename")]),o("v-spacer"),o("v-btn",{attrs:{color:"red",flat:"",dark:""},on:{click:function(t){e.edit_name_dialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1)},X=[],H=(o("7f7f"),{data:function(){return{selected_folder:[],rename_dialog:!1,name_dialog:!1,save_name:"New Template",rules:{required:function(e){return!!e||"Required."}},hover_tree_id:-1,add_folder_dialog:!1,delete_folder_dialog:!1,edit_name_dialog:!1,selected_item:{},new_folder_name:"New Folder",new_item_name:""}},methods:{closeDialog:function(){this.$store.commit("set_dialog_open",!1)},saveNode:function(){if(this.save_name){var e={},t={},o=this.$store.state.selected_node;t.name=this.save_name,t.code=o.code,t.display_code=o.display_code,t.display_act_code=o.display_act_code;var a=this.selected_folder[0].path;e.path=a,e.node_data=t,this.$socket.emit("save_to_library",e),this.closeDialog()}},openNewFolderDialog:function(e){this.selected_item=e,this.new_folder_name="New Folder",this.add_folder_dialog=!0},openDeleteFolderDialog:function(e){this.selected_item=e,this.delete_folder_dialog=!0},openEditNameDialog:function(e){this.selected_item=e,this.new_item_name=e.name,this.edit_name_dialog=!0},createNewFolder:function(){},deleteFolder:function(){},renameItem:function(){}},computed:{save_dialog:{get:function(){return this.$store.state.save_dialog}},libraryTree:{get:function(){return this.$store.state.libraryTree}}}}),J=H,Q=o("a523"),Z=o("0e8f"),ee=o("a722"),te=o("a844"),oe=Object(m["a"])(J,q,X,!1,null,null,null),ae=oe.exports;b()(oe,{VBtn:i["a"],VCard:y["a"],VCardActions:x["a"],VCardText:x["b"],VContainer:Q["a"],VDialog:k["a"],VFlex:Z["a"],VIcon:w["a"],VLayout:ee["a"],VSpacer:C["a"],VTextField:z["a"],VTextarea:te["a"],VToolbar:V["a"],VToolbarItems:T["a"],VToolbarTitle:T["b"],VTreeview:K["a"]});var ne={name:"App",components:{CodeEditor:O,SideBar:W,LibrarySaveDialog:ae},data:function(){return{connected:!1}},mounted:function(){var e=document.getElementById("canvas"),t=new u(e,this.$store);t.mount(),this.$store.commit("set_canvas",t)},methods:{OpenFile:function(){var e=document.getElementById("fileInput");e.click()},OpenModel:function(e){var t=this,o=e.target.files[0];if(o){var a=new FileReader;a.onload=function(e){var o=e.target.result;t.$store.state.canvas.LoadModel(o)},a.readAsText(o)}},resetServer:function(){this.$socket.emit("reset")},SaveModel:function(){var e=this.$store.state.canvas.GetModelXML(),t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e));var o=this.$store.state.document_name+".xml";t.setAttribute("download",o),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},computed:{document_name:{get:function(){return this.$store.state.document_name},set:function(e){this.$store.commit("set_document_name",e)}}},watch:{code_dialog:function(e,t){var o=this;if(e)return setTimeout(function(){o.$refs.code_editor.codemirror.refresh(),o.$refs.code_editor.codemirror.focus()},200)}},sockets:{connect:function(){this.connected=!0},disconnect:function(){this.connected=!1}}},ie=ne,re=(o("034f"),o("7496")),se=o("cc20"),de=o("549c"),ce=o("553a"),le=Object(m["a"])(ie,r,s,!1,null,null,null),ue=le.exports;b()(le,{VApp:re["a"],VBtn:i["a"],VCard:y["a"],VChip:se["a"],VContent:de["a"],VFooter:ce["a"],VIcon:w["a"],VSpacer:C["a"],VToolbar:V["a"],VToolbarItems:T["a"],VToolbarTitle:T["b"]});var _e=o("2f62"),ve="node_id",pe="is_variable",fe="param_name",he="PyWeaverNodeDisplay",me={DISPLAY_NODE_ID_ATTR:ve,DISPLAY_VAR_ATTR:pe,DISPLAY_VAR_NAME_ATTR:fe,DISPLAY_CLASS:he},ge=function(){function e(t,o,a){Object(d["a"])(this,e),this.canvas=o,this.id="",this.inputs={},this.outputs={},this.code_source="local",this.code="",this.display_code=t,this.display_act_code="",this.cell_id="",this.cell={},this.compiled_display_code="",this.compileDisplayCode(),this.store=a}return Object(c["a"])(e,[{key:"setCell",value:function(e){this.cell=e,this.id=e.id}},{key:"compileDisplayCode",value:function(){this.compiled_display_code="<div "+me.DISPLAY_NODE_ID_ATTR+"='"+this.cell.id+"' class='"+me.DISPLAY_CLASS+"'id='node_"+this.cell.id+"'>"+this.display_code+"</div>"}},{key:"setCode",value:function(e){this.code=e,this.cell.code=e}},{key:"setDisplayCode",value:function(e){this.display_code=e,this.compileDisplayCode(),this.cell.display_code=e}},{key:"setDisplayActCode",value:function(e){this.display_act_code=e,this.cell.display_act_code=e}}]),e}(),be=o("8055"),ye=o.n(be),xe=ye()("http://localhost:5000"),ke=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{key:e.run_id},[o("v-runtime-template",{attrs:{template:e.template,display_code:e.display_code}})],1)},we=[],Ce=(o("ac6a"),o("456d"),o("75fc")),Se={bind:function(e,t,o){o.context["scope"][t.arg]||(o.context["scope"][t.arg]=t.value)}};a["a"].directive("val",Se);var De=o("61cc"),$e=o.n(De),Ve=function(e){return[].concat(Object(Ce["a"])(Object.keys(e.data&&e.data()||{})),Object(Ce["a"])(Object.keys(e.props||{})))},Te=function(e,t,o){if(!t.hasOwnProperty(o)){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,a)}},Ee=function(e){var t={};return e.forEach(function(e){e&&Object.getOwnPropertyNames(e).forEach(function(o){return Te(e,t,o)})}),t},Oe=function(e,t){var o={};return t.forEach(function(t){return Te(e,o,t)}),o},Ne={props:{template:String,display_code:String},directives:{Val:Se},data:function(){return{plotly:$e.a}},render:function(e){if(this.template){var t=this.$parent,o=t.$data,a=t.$props,n=t.$options,i="{}";if(this.display_code&&(i=this.display_code),i!=this.$parent.$data._previous_display_code){var r="function(){return "+this.$parent.$data._previous_display_code+" }();",s=Function("return "+r)();for(var d in s)delete n.methods[d],delete this.$parent[d];this.$parent.$data._previous_display_code=i,r="function(){return "+i+" }();";var c=Function("return "+r)();for(var d in c){var l=c[d].bind(this.$parent);n.methods[d]=l,this.$parent[d]=l}}this.$parent.$data._previous_template!=this.template&&(this.$parent.$data.scope={},this.$parent.$data._previous_template=this.template);var u=Object.keys(n.methods||{}),_=Ve(n).concat(u),v=Oe(this.$parent,u),p=Ee([o,a,v]),f={template:this.template||"<div></div>",props:_,computed:n.computed,components:n.components};return e(f,{props:p})}}},Le={props:["_node","store"],data:function(){return{id:"",template:"<div>Node</div>",display_code:"{}",scope:{},node:{},_previous_template:"",_previous_display_code:"{}"}},components:{VRuntimeTemplate:Ne},directives:{Val:Se},methods:{changeCode:function(e){this.template="<div>"+e+"</div>"},changeAct:function(e){this.display_code=e},updateDisplay:function(){this.$forceUpdate(),this.onResults&&this.onResults()}},computed:{run_id:function(){return this.store.state.run_id}},mounted:function(){this.node=new Proxy(this._node,{get:function(e,t,o){var a=null;if("__ob__"!=t){var n=null,i=null;if(t in e.inputs){console.log("input request");var r=e.inputs[t];r&&(n=r.id,i=r.var_name)}else n=e.id,i=t;n&&i&&n in e.store.state.results&&i in e.store.state.results[n]&&(a=e.store.state.results[n][i])}return a}})}},Me=Le,Ae=Object(m["a"])(Me,ke,we,!1,null,null,null),Fe=Ae.exports;a["a"].use(_e["a"]);var Pe=new _e["a"].Store({state:{canvas:{},selected_node:{},open_code_editor:!1,code:"",display_code:"",display_act_code:"",code_nodes:{},document_name:"Untitled",node_displays:{},results:{},auto_exec:!1,run_id:0,libraryTree:[],save_dialog:!1},mutations:{tree_change:function(e,t){e.libraryTree=t},set_selected_node:function(e,t){e.selected_node=t},open_editor:function(e,t){e.open_code_editor=t},set_dialog_open:function(e,t){e.save_dialog=t},set_canvas:function(e,t){e.canvas=t},set_code:function(e,t){e.code=t},set_display_code:function(e,t){e.display_code=t},set_display_act_code:function(e,t){e.display_act_code=t},set_document_name:function(e,t){e.document_name=t}},actions:{open_code_editor:function(e,t){e.commit("set_selected_node",t),e.commit("set_code",t.code),e.commit("set_display_code",t.display_code),e.commit("set_display_act_code",t.display_act_code),e.commit("open_editor",!0)},add_empty_node:function(e){var t=e.state.canvas,o=new ge("Node",e.state.canvas,e),n=t.addNode(o),i=n.id,r=a["a"].extend(Fe),s=new r({propsData:{_node:o,store:e}});s.$mount(),document.getElementById("node_"+i).appendChild(s.$el),e.state.node_displays[n.id]=s,e.state.code_nodes[n.id]=o,o.setCell(n),xe.emit("new_node",n.id)},add_node:function(e,t){var o=e.state.canvas,n=new ge("Node",e.state.canvas,e),i=o.addNode(n),r=i.id,s=a["a"].extend(Fe),d=new s({propsData:{_node:n,store:e}});d.$mount(),document.getElementById("node_"+r).appendChild(d.$el),e.state.node_displays[i.id]=d,e.state.code_nodes[i.id]=n,n.setCell(i),e.commit("set_selected_node",n),xe.emit("new_node",i.id),e.dispatch("save_node_code",t)},socket_setLibraryTree:function(e,t){e.commit("tree_change",t)},socket_changeNodeInputPorts:function(e,t){var o=e.state.canvas,a=e.state.selected_node.cell.id,n=e.state.code_nodes[a].cell;for(var i in e.state.code_nodes[a].inputs={},t)e.state.code_nodes[a].inputs[t[i]]=null;o.changePorts(n,t,0,"input")},socket_changeNodeOutputPorts:function(e,t){var o=e.state.canvas,a=e.state.selected_node.cell.id,n=e.state.code_nodes[a].cell;for(var i in e.state.code_nodes[a].outputs={},t)e.state.code_nodes[a].outputs[t[i]]=null;o.changePorts(n,t,1,"output")},save_node_code:function(e,t){e.state.selected_node.setCode(t.code);var o=e.state.selected_node.id;e.state.node_displays[o].changeCode(t.display_code),e.state.selected_node.setDisplayCode(t.display_code),e.state.node_displays[o].changeAct(t.display_act_code),e.state.selected_node.setDisplayActCode(t.display_act_code),e.state.node_displays[o].updateDisplay(),l.$emit("update_displays"),a["a"].nextTick().then(function(){var o={};o.code=t.code,o.id=e.state.selected_node.cell.id,xe.emit("edit_node_code",o),e.dispatch("auto_execute")})},add_connection:function(e,t){xe.emit("make_connection",t),e.state.code_nodes[t.target_id].inputs[t.target_var]={id:t.source_id,var_name:t.source_var},e.dispatch("auto_execute")},remove_connection:function(e,t){xe.emit("delete_connection",t),e.dispatch("auto_execute")},execute_server:function(e){var t={},o=e.state.node_displays;for(var a in o)t[a]=o[a].scope;xe.emit("execute",t,function(t){e.state.results=t,e.state.run_id+=1,l.$emit("update_displays")})},auto_execute:function(e){e.state.auto_exec&&e.dispatch("execute_server")},delete_node:function(e,t){xe.emit("delete_node",t)}}}),Ie=o("f87c"),je=o("85fe"),Re=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{ref:e.chart.uuid})])},Ue=[],Be={props:["chart"],mounted:function(){$e.a.plot(this.$refs[this.chart.uuid],this.chart.traces,this.chart.layout)},watch:{chart:{handler:function(){console.log("changed"),$e.a.newPlot(this.$refs[this.chart.uuid],this.chart.traces,this.chart.layout)},deep:!0}}},Ye=Be,ze=Object(m["a"])(Ye,Re,Ue,!1,null,null,null),Ke=ze.exports;a["a"].use(me),a["a"].component("plot",Ke),a["a"].config.productionTip=!1,a["a"].use(Ie["a"],xe,{store:Pe}),a["a"].directive("observe-visibility",je["a"]),new a["a"]({store:Pe,render:function(e){return e(ue)}}).$mount("#app")}});
//# sourceMappingURL=app.c0e31f3c.js.map