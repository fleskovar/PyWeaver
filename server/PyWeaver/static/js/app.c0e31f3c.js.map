{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9745","webpack:///./src/plugins/vuetify.js","webpack:///./src/App.vue?4595","webpack:///./src/EventBus.js","webpack:///./src/NodeEditor/Canvas.js","webpack:///./src/components/CodeEditor.vue?3a84","webpack:///src/components/CodeEditor.vue","webpack:///./src/components/CodeEditor.vue?b882","webpack:///./src/components/CodeEditor.vue","webpack:///./src/components/SideBar.vue?1264","webpack:///src/components/SideBar.vue","webpack:///./src/components/SideBar.vue?6418","webpack:///./src/components/SideBar.vue","webpack:///./src/components/LibrarySaveDialog.vue?63b2","webpack:///src/components/LibrarySaveDialog.vue","webpack:///./src/components/LibrarySaveDialog.vue?6442","webpack:///./src/components/LibrarySaveDialog.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0bd2","webpack:///./src/App.vue","webpack:///./src/Constants.js","webpack:///./src/NodeEditor/CodeNode.js","webpack:///./src/socket.js","webpack:///./src/components/NodeDisplay.vue?5e92","webpack:///./src/directives/InitDirective.js","webpack:///./custom_modules/v-runtime-template/index.js","webpack:///src/components/NodeDisplay.vue","webpack:///./src/components/NodeDisplay.vue?3ce4","webpack:///./src/components/NodeDisplay.vue","webpack:///./src/store.js","webpack:///./src/components/Plot.vue?4121","webpack:///src/components/Plot.vue","webpack:///./src/components/Plot.vue?1152","webpack:///./src/components/Plot.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Vue","use","Vuetify","iconfont","components","VBtn","Appvue_type_template_id_b57b49f6_render","_vm","this","_h","$createElement","_c","_self","attrs","dark","fixed","clipped-left","staticClass","_v","flat","small","on","click","OpenFile","SaveModel","color","text-color","_e","connected","type","id","hidden","change","$event","OpenModel","height","staticStyle","width","resetServer","_s","Date","getFullYear","staticRenderFns","EventBus","Canvas","container","store","classCallCheck","graph","codeNode","enc","mxCodec","node","encode","getModel","xmlString","mxUtils","getPrettyXml","xml","file","xmlDoc","parseXml","documentElement","dec","ownerDocument","decode","_this","mxEvent","disableContextMenu","mxGraph","isCellMovable","cell","lastEvent","altKey","state","view","getState","style","getCellStyle","isCellsMovable","isCellLocked","mxConstants","STYLE_MOVABLE","setAllowDanglingEdges","setConnectable","setMultigraph","isCellEditable","htmlLabels","autoSizeCells","foldingEnabled","getStylesheet","getDefaultVertexStyle","getDefaultEdgeStyle","STYLE_ROUNDED","STYLE_EDGE","mxEdgeStyle","EntityRelation","STYLE_STROKEWIDTH","STYLE_LABEL_BACKGROUNDCOLOR","mxRubberband","isForceRubberbandEvent","me","isPort","getCellGeometry","addMouseWheelListener","evt","up","zoomIn","zoomOut","keyHandler","mxKeyHandler","bindKey","isEnabled","removeCells","connectionHandler","addListener","CONNECT","sender","edge","getProperty","source_id","source","parent","target_id","target","source_var","target_var","dispatch","DOUBLE_CLICK","isNode","code_node","code_nodes","MOUSE_MOVE","isMouseDown","console","log","CELLS_REMOVED","removed_cells","properties","cells","v1","getDefaultParent","beginUpdate","outputs","inputs","cell_height","Math","max","insertVertex","display_act_code","endUpdate","changePorts","port_names","position","tag","model","remaining_names","remaining_ports","style_string","children","port","port_name","port_tag","includes","getEdges","geometry","y","offset","mxPoint","getView","validate","clear","CodeEditorvue_type_template_id_2a6e8e8c_render","persistent","keydown","codeDialogShortcuts","callback","$$v","code_dialog","expression","icon","openSaveDialog","closeDialog","ref","options","cmOptions","code","dispCmOptions","display_code","dispActCmOptions","saveCode","CodeEditorvue_type_template_id_2a6e8e8c_staticRenderFns","CodeEditorvue_type_script_lang_js_","codemirror","vue_codemirror","tabSize","indentUnit","lineNumbers","indentWithTabs","viewportMargin","Infinity","line","theme","autoRefresh","methods","$store","commit","e","keyCode","shiftKey","computed","set","val","open_code_editor","components_CodeEditorvue_type_script_lang_js_","component","componentNormalizer","CodeEditor","installComponents_default","VCard","VCardActions","components_VCard","VCardText","VDialog","VIcon","VSpacer","VGrid","VTab","VTabItem","VTabs","VToolbar","VToolbarItems","components_VToolbar","VToolbarTitle","SideBarvue_type_template_id_21399ddd_render","permanent","clipped","mini-variant","drawer_mini","toggleMiniDrawer","label","document_name","addNode","indexOf","_k","canvasShortcuts","directives","rawName","padding","solo-inverted","hide-details","clearable","clear-icon","search","overflow-y","items","filter","open-on-click","scopedSlots","_u","fn","item","addLibraryNode","lib_id","runServer","SideBarvue_type_template_id_21399ddd_staticRenderFns","SideBarvue_type_script_lang_js_","mounted","fuse_options","keys","distance","location","maxPatternLength","minMatchCharLength","$socket","emit","addNodeAction","node_data","treeFilter","textKey","fuse","fuse_default","a","search_results","libraryTree","components_SideBarvue_type_script_lang_js_","SideBar_component","SideBar","VDivider","VList","VListTile","VListTileAction","VListTileContent","components_VList","VNavigationDrawer","VTextField","VTreeview","LibrarySaveDialogvue_type_template_id_3eafa3e5_render","save_dialog","grid-list-md","row","wrap","xs6","border","border-radius","activatable","active","selected_folder","return-object","update:active","mouseover","hover_tree_id","mouseleave","openEditNameDialog","openNewFolderDialog","openDeleteFolderDialog","rules","required","save_name","no-resize","outline","hint","persistent-hint","saveNode","add_folder_dialog","new_folder_name","createNewFolder","delete_folder_dialog","deleteFolder","edit_name_dialog","new_item_name","renameItem","LibrarySaveDialogvue_type_template_id_3eafa3e5_staticRenderFns","LibrarySaveDialogvue_type_script_lang_js_","rename_dialog","name_dialog","selected_item","selected_node","path","components_LibrarySaveDialogvue_type_script_lang_js_","LibrarySaveDialog_component","LibrarySaveDialog","VContainer","VFlex","VLayout","VTextarea","Appvue_type_script_lang_js_","document","getElementById","canvas","Canvas_Canvas","mount","file_obj","ev","files","reader","FileReader","onload","contents","LoadModel","readAsText","GetModelXML","element","createElement","setAttribute","encodeURIComponent","file_name","display","body","appendChild","removeChild","watch","new_val","old_val","_this2","setTimeout","$refs","code_editor","refresh","focus","sockets","connect","disconnect","src_Appvue_type_script_lang_js_","App_component","App","VApp","VChip","VContent","VFooter","DISPLAY_NODE_ID_ATTR","DISPLAY_VAR_ATTR","DISPLAY_VAR_NAME_ATTR","DISPLAY_CLASS","Constants","CodeNode","default_display","code_source","cell_id","compiled_display_code","compileDisplayCode","DisplayConstants","io","NodeDisplayvue_type_template_id_0b962492_render","run_id","template","NodeDisplayvue_type_template_id_0b962492_staticRenderFns","Val","el","binding","vnode","context","arg","directive","getKeysFromOptions","concat","toConsumableArray","props","defineDescriptor","src","dest","descriptor","getOwnPropertyDescriptor","merge","objs","res","forEach","obj","getOwnPropertyNames","buildFromProps","prop","v_runtime_template","String","plotly","Plotly","render","h","_this$$parent","$parent","$data","$props","$options","disp_code","_previous_display_code","embedded_x","previousActionFunctions","Function","f","actionFunctions","boundFunc","_previous_template","scope","methodKeys","allKeys","dynamic","NodeDisplayvue_type_script_lang_js_","VRuntimeTemplate","changeCode","changeAct","updateDisplay","$forceUpdate","onResults","Proxy","_node","receiver","return_val","var_name","source_data","results","components_NodeDisplayvue_type_script_lang_js_","NodeDisplay_component","NodeDisplay","Vuex","src_store","Store","node_displays","auto_exec","mutations","tree_change","set_selected_node","open_editor","set_dialog_open","set_canvas","set_code","set_display_code","set_display_act_code","set_document_name","actions","add_empty_node","node_cell","node_id","ComponentClass","extend","instance","propsData","$mount","$el","setCell","socket","add_node","socket_setLibraryTree","tree","socket_changeNodeInputPorts","socket_changeNodeOutputPorts","save_node_code","editor_data","setCode","setDisplayCode","setDisplayActCode","$emit","nextTick","then","add_connection","remove_connection","execute_server","scope_data","ds","auto_execute","delete_node","Plotvue_type_template_id_68945543_render","chart","uuid","Plotvue_type_template_id_68945543_staticRenderFns","Plotvue_type_script_lang_js_","plotly_default","plot","traces","layout","handler","newPlot","deep","components_Plotvue_type_script_lang_js_","Plot_component","Plot","config","productionTip","VueSocketio","ObserveVisibility"],"mappings":"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","file":"js/app.c0e31f3c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import Vue from 'vue'\nimport Vuetify, {VBtn} from 'vuetify/lib'\nimport 'vuetify/src/stylus/app.styl'\n\nVue.use(Vuetify, {\n  iconfont: 'md',\n  components: {VBtn} //TODO: Register all the component globally for v-template-runtime\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-toolbar',{attrs:{\"app\":\"\",\"dark\":\"\",\"fixed\":\"\",\"clipped-left\":\"\"}},[_c('v-toolbar-title',{staticClass:\"headline text-uppercase\"},[_c('span',[_vm._v(\"Py\")]),_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"Weaver\")]),_c('span',[_vm._v(\"2\")])]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":_vm.OpenFile}},[_c('span',[_vm._v(\"Open file\")]),_c('v-icon',[_vm._v(\"folder_open\")])],1),_c('v-btn',{attrs:{\"flat\":\"\",\"small\":\"\"},on:{\"click\":_vm.SaveModel}},[_c('span',[_vm._v(\"Save model\")]),_c('v-icon',[_vm._v(\"cloud_download\")])],1)],1),(_vm.connected)?_c('v-chip',{attrs:{\"color\":\"green\",\"text-color\":\"white\"}},[_vm._v(\"Connected\")]):_vm._e(),(!_vm.connected)?_c('v-chip',{attrs:{\"color\":\"red\",\"text-color\":\"white\"}},[_vm._v(\"Disconnected\")]):_vm._e()],1),_c('input',{attrs:{\"type\":\"file\",\"id\":\"fileInput\",\"hidden\":\"\"},on:{\"change\":function($event){return _vm.OpenModel($event)}}}),_c('SideBar'),_c('v-content',{attrs:{\"app\":\"\"}},[_c('v-card',{attrs:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":\"canvas\"}})])],1),_c('CodeEditor'),_c('LibrarySaveDialog'),_c('v-footer',{staticClass:\"pa-3\",attrs:{\"app\":\"\",\"dark\":\"\"}},[_c('v-btn',{attrs:{\"color\":\"gray\",\"dark\":\"\"},on:{\"click\":_vm.resetServer}},[_vm._v(\"Reset\")]),_c('v-spacer'),_c('div',[_vm._v(\"Â© \"+_vm._s(new Date().getFullYear()))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nexport default new Vue();","import EventBus from '../EventBus.js'\n\nexport default class Canvas{\n\n    constructor(container, store){\n        this.container = container;\n        this.graph = {};\n        this.store = store;        \n        this.codeNode = {};\n\n    }\n\n    GetModelXML(){\n\t\tlet graph = this.graph;\n\t\tvar enc = new mxCodec();\n\t\tvar node = enc.encode(graph.getModel());\n\t\n\t\tvar xmlString = mxUtils.getPrettyXml(node);\t\n\t\treturn xmlString;\t\t\n    }\n    \n    LoadModel(xml){\n\t\tlet graph = this.graph;\n        var file = xml;\n        //var xmlDoc = mxUtils.load(url).getXml();\n        var xmlDoc = mxUtils.parseXml(file);\n        var node = xmlDoc.documentElement;\n        var dec = new mxCodec(node.ownerDocument);\n        dec.decode(node, graph.getModel());\n\t}\n\n    mount(){\n        // Disables the built-in context menu\n        mxEvent.disableContextMenu(this.container);\n                        \n        mxGraph.prototype.isCellMovable = function(cell)\n        {\n            if(!this.lastEvent.altKey){\n                var state = this.view.getState(cell);\n                var style = (state != null) ? state.style : this.getCellStyle(cell);\n                \n                return this.isCellsMovable() && !this.isCellLocked(cell) && style[mxConstants.STYLE_MOVABLE] != 0;\n            }\n            else{\n                return false;\n            }\n        };\n\n        // Creates the graph inside the given container\n        var graph = new mxGraph(this.container);  \n        this.graph = graph;    \n        graph.store = this.store;        \n\n        graph.setAllowDanglingEdges(false);\n        graph.setConnectable(true);\n        graph.setMultigraph(true);\n        graph.isCellEditable  = function(cell){return false};\n        graph.htmlLabels = true;\n        graph.autoSizeCells = true;\n        //graph.autoSizeCellsOnAdd = true;\n        //TODO: Handle autoSize on display (value) change\n        graph.foldingEnabled = false;\n\n        // Sets default styles\n        var style = graph.getStylesheet().getDefaultVertexStyle();\n        style['fillColor'] = '#FFFFFF';\n        style['strokeColor'] = '#000000';\n        style['fontColor'] = '#000000';\n        style['fontStyle'] = '1';\n        \n        style = graph.getStylesheet().getDefaultEdgeStyle();\n        style['strokeColor'] = '#000000';\n        style['fontColor'] = '#000000';\n        style['fontStyle'] = '0';\n        style['fontStyle'] = '0';\n        style['startSize'] = '8';\n        style['endSize'] = '8';\n        style[mxConstants.STYLE_ROUNDED] = true;\n        style[mxConstants.STYLE_EDGE] = mxEdgeStyle.EntityRelation;\n        style[mxConstants.STYLE_STROKEWIDTH] = '1';\n        style[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR] = '#FFFFFF';\n\n        /*\n        var style = graph.getStylesheet().getDefaultEdgeStyle();\n        style[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR] = '#FFFFFF';\n        style[mxConstants.STYLE_STROKEWIDTH] = '2';\n        style[mxConstants.STYLE_ROUNDED] = true;\n        style[mxConstants.STYLE_EDGE] = mxEdgeStyle.EntityRelation;\n        */\n\n        // Enables rubberband selection. Disable alt force.\n        \n        mxRubberband.prototype.isForceRubberbandEvent = function(me)\n        {\n\t        return false;\n        };\n        \n        new mxRubberband(graph);\n        \n\n        graph.isPort = function(cell)\n        {\n            var geo = this.getCellGeometry(cell);\n            return false;\n            //return (geo != null) ? geo.relative : false;\n        };\n        \n        mxEvent.addMouseWheelListener(mxUtils.bind(this, function(evt, up)\n        {\n            //Disable alt+zoom\n            if (evt.altKey == true){\n                if(up == true)\n                    graph.zoomIn();\n                else graph.zoomOut();\n\n            }\t\n        }));\n\n        var keyHandler = new mxKeyHandler(graph);\n        keyHandler.bindKey(46, function(evt)\n        {            \n            if (graph.isEnabled())\n            {\n                graph.removeCells();\n            }\n        });\n        \n        /*\n        keyHandler.bindShiftKey(13, function(evt)\n        {\n            console.log('enter');\n            if (graph.isEnabled())\n            {                \n                    console.log('add node');\n            \n            }\n        });\n        */\n\n        //Adding new connection event\n        graph.connectionHandler.addListener(mxEvent.CONNECT, (sender, evt) =>\n        {\n            //TODO: Create library of connection here.\t\t\t\t\n            var edge = evt.getProperty('cell');\n            var data = {\n                source_id: edge.source.parent.id,\n                target_id: edge.target.parent.id,\n                source_var: edge.source.value,\n                target_var: edge.target.value,\n            };\n            this.store.dispatch('add_connection', data);\n        });\n\n        //Adding double click event\n        graph.addListener(mxEvent.DOUBLE_CLICK, (sender, evt) => {\n            var cell = evt.getProperty('cell');            \n            if (cell!=null){\n                if (cell.isNode){\n                    let code_node = this.store.state.code_nodes[cell.id];\n                    this.store.dispatch('open_code_editor', code_node);\n                }\n            }\n        });\n\n        graph.addListener(mxEvent.MOUSE_MOVE, (sender, evt) => {\n            if(graph.isMouseDown){\n                console.log('yay');\n            }\n        });\n        \n        graph.addListener(mxEvent.CELLS_REMOVED, (sender, evt) => {\n            var removed_cells = evt.properties.cells;            \n\n            //First remove edges from graph. This ensures that referenced nodes are still registered.\n            //Prevents the server from failing.\n            //TODO: Add safegguarding to server side\n            for(var i = 0; i < removed_cells.length; i++){\n                var cell = removed_cells[i];\n\n                if(cell.edge){\n                    //Delete the connection from the graph\n                    var data = {\n                        source_id: cell.source.parent.id,\n                        source_var: cell.source.value,\n                        target_id: cell.target.parent.id,\n                        target_var: cell.target.value\n                    };\n                    this.store.dispatch('remove_connection', data);\n                }\n            }\n\n            //Once edges were removed, delete the nodes.\n            for(var i = 0; i < removed_cells.length; i++){\n                var cell = removed_cells[i];\n\n                if(cell.isNode){\n                    //Delete a node from the graph                \n                    this.store.dispatch('delete_node', cell.id);\n                }\n            }\n        });\n    }\n\n    addNode(code_node){\n\n        // Adds cells to the model in a single step\n        var v1 = null;\n        var parent = this.graph.getDefaultParent();\n        this.graph.getModel().beginUpdate();\n        try\n        {            \n            var outputs = [];\n            var inputs = [];            \n\n            for(var p in code_node.outputs){\n                outputs.push(p);\n            }            \n\n            for(var p in code_node.inputs){\n                inputs.push(p);\n            }\n\n            //Set cell height based on number of inputs/outputs\n            var cell_height = Math.max(outputs.length, inputs.length)*30+40;            \n            //var v1 = this.graph.insertVertex(parent, null, 'Node', 20, 20, 80, cell_height, 'verticalAlign=top'); \n            //var v1 = this.graph.insertVertex(parent, null, code_node.compiled_display_code, 20, 20, 80, cell_height, 'verticalAlign=top'); \n            var v1 = this.graph.insertVertex(parent, null, '', 20, 20, 80, cell_height, 'verticalAlign=top'); \n            \n            v1.value = \"<div id='node_\"+v1.id+\"'></div>\"; //TODO: Find a better way to initialize the code in the node\n            //TODO: Add default action code (probably should do =\"\")\n            v1.display_act_code = '';\n\n            v1.setConnectable(false);  \n            v1.isNode = true;\n        }\n        finally\n        {\n            // Updates the display\n            this.graph.getModel().endUpdate();\n        }\n\n        this.changePorts(v1, outputs, 1, 'output');\n        this.changePorts(v1, inputs, 0, 'input');\n\n        return v1\n    }\n\n    changePorts(cell, port_names, position, tag){\n \n        let model = this.graph.getModel();\n        let remaining_names = [];\n        let remaining_ports = [];\n\n        var style_string = '';\n\n        if(position == 0)\n            style_string = 'labelPosition=right;align=left;deletable=0'; //Input port\n        else \n            style_string = 'labelPosition=left;align=right;deletable=0'; //Output port\n\n        //Remove ports that are not listed in the new array\n        this.graph.getModel().beginUpdate();\n\n        try\n        {  \n            if(cell.children){\n                for(var i =0; i < cell.children.length; i++){\n\n                    var port = cell.children[i];\n                    var port_name = port.value;       \n                    var port_tag = port.tag;             \n\n                    if(!port_names.includes(port_name) && port_tag == tag){\n                        //Remove edges\n                        this.graph.removeCells(model.getEdges(port), false);\n                        //Remove node\n                        this.graph.removeCells([port], false);\n                        i -= 1;\n                    }else{\n                        if(port_tag == tag){\n                            remaining_ports.push(port);\n                            remaining_names.push(port_name);\n                        }\n                    }           \n                }\n            }\n            //Add remaining nodes\n            for(var i =0; i < port_names.length; i++){\n                \n                var port_name = port_names[i];\n\n                if(!remaining_names.includes(port_name)){\n                    var p = this.graph.insertVertex(cell, null, port_name, position, 1.0/(port_names.length+1) * (i+1), 10, 10, style_string, true); \n                    p.geometry.offset = new mxPoint(-5, -5);\n                    p.setConnectable(true);  \n                    p.tag = tag;                  \n                }else{                    \n                    var p = remaining_ports[i];\n                    p.geometry.y = 1.0/(port_names.length+1) * (i+1);\n                }            \n            }\n\n            //This appears to clear the cell's content (but it shouldnt)\n            //this.graph.getView().clear(cell, false, false);\n            this.graph.getView().validate();\n\n        }\n        finally\n        {\n            // Updates the display            \n            this.graph.getModel().endUpdate();\n        }\n    }\n\n    updateCell(cell){\n        this.graph.getView().clear(cell, false, false);\n        this.graph.getView().validate();\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"800\",\"persistent\":\"\"},on:{\"keydown\":_vm.codeDialogShortcuts},model:{value:(_vm.code_dialog),callback:function ($$v) {_vm.code_dialog=$$v},expression:\"code_dialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"gray\"}},[_c('v-toolbar-title',[_vm._v(\"Editor\")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.openSaveDialog}},[_c('v-icon',[_vm._v(\"save\")])],1),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.closeDialog}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1),_c('v-card-text',[_c('v-tabs',{attrs:{\"dark\":\"\"}},[_c('v-tab',[_vm._v(\"Code\")]),_c('v-tab-item',[_c('codemirror',{ref:\"code_editor\",attrs:{\"options\":_vm.cmOptions},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_c('v-tab',[_vm._v(\"Display\")]),_c('v-tab-item',[_c('codemirror',{ref:\"code_editor\",attrs:{\"options\":_vm.dispCmOptions},model:{value:(_vm.display_code),callback:function ($$v) {_vm.display_code=$$v},expression:\"display_code\"}})],1),_c('v-tab',[_vm._v(\"Display Actions\")]),_c('v-tab-item',[_c('codemirror',{ref:\"code_editor\",attrs:{\"options\":_vm.dispActCmOptions},model:{value:(_vm.display_act_code),callback:function ($$v) {_vm.display_act_code=$$v},expression:\"display_act_code\"}})],1)],1),_c('v-spacer')],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"green\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":_vm.saveCode}},[_vm._v(\"Update\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<v-dialog v-model=\"code_dialog\" width=\"800\" persistent @keydown=\"codeDialogShortcuts\">          \n\t\t<v-card>      \n\t\t\t<v-toolbar dark color=\"gray\">              \n\t\t\t\t<v-toolbar-title>Editor</v-toolbar-title>\n\t\t\t\t<v-btn icon @click='openSaveDialog'><v-icon>save</v-icon></v-btn>   \n\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t<v-toolbar-items>                \n\t\t\t\t<v-btn icon dark @click=\"closeDialog\">\n\t\t\t\t\t<v-icon>close</v-icon>\n\t\t\t\t</v-btn>\n\t\t\t\t</v-toolbar-items>\n\t\t\t</v-toolbar>\n\n\t\t\t<v-card-text>\n\n\t\t\t\t<v-tabs dark>\n\t\t\t\t\t<v-tab>Code</v-tab>\n\t\t\t\t\t<v-tab-item>\n\t\t\t\t\t\t<codemirror :options=\"cmOptions\" ref=\"code_editor\" v-model=\"code\"/>\n\t\t\t\t\t</v-tab-item>\n\n\t\t\t\t\t<v-tab>Display</v-tab>\n\t\t\t\t\t<v-tab-item>                \n\t\t\t\t\t\t<codemirror :options=\"dispCmOptions\" ref=\"code_editor\" v-model=\"display_code\"/>                \n\t\t\t\t\t</v-tab-item>\n\n\t\t\t\t\t<v-tab>Display Actions</v-tab>\n\t\t\t\t\t<v-tab-item>                \n\t\t\t\t\t\t<codemirror :options=\"dispActCmOptions\" ref=\"code_editor\" v-model=\"display_act_code\"/>                \n\t\t\t\t\t</v-tab-item>\n\t\t\t\t</v-tabs>      \n\t\t\t\t<v-spacer/>\t\t\t\t    \n\t\t\t</v-card-text>\n\n\t\t\t<v-card-actions>     \n\t\t\t\t<v-spacer/>         \n\t\t\t\t<v-btn color=\"green\" flat v-on:click='saveCode' dark>Update</v-btn>                          \n\t\t\t</v-card-actions>\n\n        </v-card>              \n\t</v-dialog>\n</template>\n\n<script>\n// require styles\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/mode/python/python.js'\nimport 'codemirror/theme/base16-dark.css'\nimport 'codemirror/mode/htmlmixed/htmlmixed.js'\nimport 'codemirror/mode/javascript/javascript.js'\n\nimport { codemirror } from 'vue-codemirror'\n\nexport default{\n\tcomponents: {\n\t\tcodemirror,\n  \t},\n\tdata () {\n\t\treturn {\n\t\t\tcmOptions: {\n\t\t\t\t// codemirror options\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentUnit: 4,\n\t\t\t\tmode: 'python',        \n\t\t\t\tlineNumbers: true,        \n\t\t\t\tindentWithTabs: true,\n\t\t\t\tviewportMargin: Infinity,\n\t\t\t\tline: true,\n\t\t\t\ttheme: 'base16-dark',\n\t\t\t\tautoRefresh: true,        \n\t\t\t},\n\t\t\tdispCmOptions: {\n\t\t\t\t// codemirror options\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentUnit: 4,\n\t\t\t\tmode: 'htmlmixed',        \n\t\t\t\tlineNumbers: true,        \n\t\t\t\tindentWithTabs: true,\n\t\t\t\tviewportMargin: Infinity,\n\t\t\t\tline: true,\n\t\t\t\ttheme: 'base16-dark',\n\t\t\t\tautoRefresh: true,        \n\t\t\t},\n\t\t\tdispActCmOptions: {\n\t\t\t\t// codemirror options\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentUnit: 4,\n\t\t\t\tmode: 'javascript',        \n\t\t\t\tlineNumbers: true,        \n\t\t\t\tindentWithTabs: true,\n\t\t\t\tviewportMargin: Infinity,\n\t\t\t\tline: true,\n\t\t\t\ttheme: 'base16-dark',\n\t\t\t\tautoRefresh: true,        \n\t\t\t},\n\t\t}\n\t},\n\tmethods:{\n\t\tcloseDialog: function(){\n\t\t\tthis.code_dialog = false;\n\t\t},\n\t\topenSaveDialog: function(){\n\t\t\tthis.$store.commit('set_dialog_open', true);\n\t\t},\n\t\tsaveCode: function(){\n\t\t\tthis.$store.dispatch('save_node_code',\n\t\t\t{\n\t\t\t\tcode: this.code,\n\t\t\t\tdisplay_code: this.display_code,\n\t\t\t\tdisplay_act_code: this.display_act_code\n\t\t\t\t}\n\t\t\t);      \n\t\t\tthis.closeDialog();\n\t\t},\n\t\tcodeDialogShortcuts: function(e){\n\t\t\tif (e.keyCode === 13 && e.shiftKey){\n\t\t\t\t\n\t\t\t\tthis.saveCode();\n\t\t\t}else if(e.keyCode === 27){\n\t\t\t\t\n\t\t\t\tthis.closeDialog();\n\t\t\t}\n\t\t},\n\t},\n\tcomputed:{\n\t\tcode:{\n      get: function(){return this.$store.state.code},\n      \n      set: function(val)\n      {\n        this.$store.commit('set_code', val);\n      }      \n    },\n    display_code:{\n      get: function(){return this.$store.state.display_code},      \n      set: function(val)\n      {\n        this.$store.commit('set_display_code', val)\n      }      \n    },\n    display_act_code:{\n      get: function(){return this.$store.state.display_act_code},      \n      set: function(val)\n      {\n        this.$store.commit('set_display_act_code', val)\n      }      \n\t},\n\tcode_dialog:{\n      get: function(){return this.$store.state.open_code_editor},\n      \n      set: function(val)\n      {\n        this.$store.commit('open_editor', val)\n      }      \n    }, \n\t}\n}\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodeEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CodeEditor.vue?vue&type=template&id=2a6e8e8c&\"\nimport script from \"./CodeEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./CodeEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!C:/Projects/PyWeaver/client/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTab } from 'vuetify/lib'\nimport { VTabItem } from 'vuetify/lib'\nimport { VTabs } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VDialog,VIcon,VSpacer,VTab,VTabItem,VTabs,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"permanent\":\"\",\"clipped\":\"\",\"dark\":\"\",\"app\":\"\",\"width\":\"300\",\"mini-variant\":_vm.drawer_mini}},[_c('v-list',[_c('v-list-tile',[_c('v-list-tile-content'),_c('v-list-tile-action',{on:{\"click\":_vm.toggleMiniDrawer}},[_c('v-btn',{attrs:{\"icon\":\"\"}},[(_vm.drawer_mini)?_c('v-icon',[_vm._v(\"keyboard_arrow_right\")]):_vm._e(),(!_vm.drawer_mini)?_c('v-icon',[_vm._v(\"keyboard_arrow_left\")]):_vm._e()],1)],1)],1),_c('v-list-tile',[_c('v-list-tile-content',[_c('br'),_c('br'),_c('v-text-field',{attrs:{\"label\":\"Document name\"},model:{value:(_vm.document_name),callback:function ($$v) {_vm.document_name=$$v},expression:\"document_name\"}}),_c('br')],1)],1),_c('v-divider'),_c('v-list-tile',{on:{\"click\":_vm.addNode,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.shiftKey){ return null; }return _vm.canvasShortcuts($event)}}},[_c('v-list-tile-action',[_c('v-btn',{staticClass:\"text-lg-right\",attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"add\")])],1)],1),_c('v-list-tile-content',[_vm._v(\"ADD EMPTY NODE\")])],1),_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.drawer_mini),expression:\"!drawer_mini\"}],staticStyle:{\"padding\":\"10px\"}},[_c('v-text-field',{attrs:{\"label\":\"Search Node Library\",\"dark\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"clear-icon\":\"mdi-close-circle-outline\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.drawer_mini),expression:\"!drawer_mini\"}],staticStyle:{\"padding\":\"20px\",\"overflow-y\":\"scroll\"},attrs:{\"height\":\"300px\",\"flat\":\"\"}},[_c('v-treeview',{ref:\"tree\",attrs:{\"items\":_vm.items,\"search\":_vm.search,\"filter\":_vm.filter,\"open-on-click\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.children)?_c('v-icon',[_vm._v(\"folder\")]):_vm._e(),(!item.children)?_c('v-icon',[_vm._v(\"insert_drive_file\")]):_vm._e()]}},{key:\"label\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\"\\n           \"+_vm._s(item.name)+\"\\n           \"),(!item.children)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.addLibraryNode(item.lib_id)}}},[_c('v-icon',[_vm._v(\"add_circle_outline\")])],1):_vm._e(),(item.id==0)?_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"refresh\")])],1):_vm._e()]}}])})],1),_c('v-list-tile',{on:{\"click\":_vm.runServer}},[_c('v-list-tile-action',[_c('v-btn',{staticClass:\"text-lg-right\",attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"computer\")])],1)],1),_c('v-list-tile-content',[_vm._v(\"RUN\")])],1),_c('v-divider'),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-btn',{staticClass:\"text-lg-right\",attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"settings\")])],1)],1),_c('v-list-tile-content',[_vm._v(\"SETTINGS\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-navigation-drawer permanent clipped dark app width='300' :mini-variant=\"drawer_mini\">  \n      \n      <v-list>\n        <v-list-tile>          \n          <v-list-tile-content></v-list-tile-content>\n          <v-list-tile-action @click=\"toggleMiniDrawer\">\n            <v-btn icon>\n              <v-icon v-if=\"drawer_mini\">keyboard_arrow_right</v-icon>\n              <v-icon v-if=\"!drawer_mini\">keyboard_arrow_left</v-icon>\n            </v-btn>\n          </v-list-tile-action>        \n        </v-list-tile>        \n        \n        <v-list-tile>\n          <v-list-tile-content>\n            <br>\n            <br>\n            <v-text-field label=\"Document name\" v-model='document_name'/>\n            <br>\n          </v-list-tile-content>\n        </v-list-tile>\n\n        <v-divider/>\n\n        <v-list-tile @click=\"addNode\" @keydown.shift.enter=\"canvasShortcuts\">\n          <v-list-tile-action>\n            <v-btn icon class=\"text-lg-right\">              \n              <v-icon>add</v-icon>\n            </v-btn>\n          </v-list-tile-action>   \n          <v-list-tile-content>ADD EMPTY NODE</v-list-tile-content>     \n        </v-list-tile>\n\n        <v-card v-show='!drawer_mini' style='padding: 10px'>\n          <v-text-field\n            v-model=\"search\"\n            label=\"Search Node Library\"\n            dark\n            flat\n            solo-inverted\n            hide-details\n            clearable\n            clear-icon=\"mdi-close-circle-outline\"\n          />\n        </v-card>\n\n        <v-card v-show='!drawer_mini' style='padding: 20px; overflow-y: scroll' height='300px' flat>          \n          <v-treeview :items=\"items\" ref='tree' :search=\"search\" :filter=\"filter\" open-on-click>\n            <template v-slot:prepend=\"{ item }\">\n              <v-icon v-if=\"item.children\">folder</v-icon>\n              <v-icon v-if=\"!item.children\">insert_drive_file</v-icon>\n            </template>\n\n             <template v-slot:label=\"{item}\">\n               {{item.name}}\n               <v-btn v-if=\"!item.children\" icon @click='addLibraryNode(item.lib_id)'><v-icon>add_circle_outline</v-icon></v-btn>\n               <v-btn v-if=\"item.id==0\" icon><v-icon>refresh</v-icon></v-btn> <!--Adds a special refresh icon for the root folder to trigger library refresh on the server--> \n            </template>\n\n          </v-treeview>\n        </v-card>\n\n        <v-list-tile @click=\"runServer\">\n          <v-list-tile-action>\n            <v-btn icon class=\"text-lg-right\">              \n              <v-icon>computer</v-icon>\n            </v-btn>\n          </v-list-tile-action>   \n          <v-list-tile-content>RUN</v-list-tile-content>     \n        </v-list-tile>\n\n        <v-divider/>\n\n        <v-list-tile>\n          <v-list-tile-action>\n            <v-btn icon class=\"text-lg-right\">              \n              <v-icon>settings</v-icon>\n            </v-btn>\n          </v-list-tile-action>   \n          <v-list-tile-content>SETTINGS</v-list-tile-content>     \n        </v-list-tile>\n      </v-list>\n    </v-navigation-drawer>\n</template>\n\n\n<script>\nimport Fuse from 'fuse.js';\n\nexport default {\n  mounted(){\n\n  },\n    data(){\n        return{\n            drawer_mini: true,\n            document_name: '',\n            search: '',\n            fuse_options: {\n              keys:['name'],\n              distance: 100,\n              location: 0,\n              maxPatternLength: 32,\n              minMatchCharLength: 1,\n              id: \"id\"\n            }\n        }\n    },\n    methods:{\n      addNode: function(){      \n        this.$store.dispatch('add_empty_node');     \n      },\n      runServer: function(){\n        this.$store.dispatch('execute_server');\n      },\n      resetServer: function(){\n        //Resets server\n        this.$socket.emit('reset');\n      },\n      toggleMiniDrawer: function(){\n          this.drawer_mini = !this.drawer_mini;\n      },\n      addLibraryNode: function(id){\n        this.$socket.emit('get_template', id, this.addNodeAction)\n      },\n      addNodeAction: function(node_data){\n          this.$store.dispatch('add_node', node_data);\n      },\n      treeFilter: function(item, search, textKey){\n\n          var fuse = new Fuse(this.items, this.fuse_options);\n          var search_results = fuse.search(search);\n\n          return search_results.indexOf(item.id) > -1\n      },\n    },\n    computed:{\n      items:{\n        get(){\n          return this.$store.state.libraryTree;\n        }\n      },\n      filter(){        \n        return this.treeFilter;\n      },\n    }\n}\n</script>\n\n<style>\n\n</style>\n\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SideBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideBar.vue?vue&type=template&id=21399ddd&\"\nimport script from \"./SideBar.vue?vue&type=script&lang=js&\"\nexport * from \"./SideBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!C:/Projects/PyWeaver/client/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VDivider } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileAction } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VNavigationDrawer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VTreeview } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VDivider,VIcon,VList,VListTile,VListTileAction,VListTileContent,VNavigationDrawer,VTextField,VTreeview})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"800\",\"persistent\":\"\"},model:{value:(_vm.save_dialog),callback:function ($$v) {_vm.save_dialog=$$v},expression:\"save_dialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"gray\"}},[_c('v-toolbar-title',[_vm._v(\"Save to Library\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":_vm.closeDialog}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-card',{staticStyle:{\"overflow-y\":\"scroll\",\"border\":\"2px solid grey\",\"border-radius\":\"1px\"},attrs:{\"height\":\"500px\",\"flat\":\"\"}},[_c('v-treeview',{ref:\"tree\",attrs:{\"items\":_vm.libraryTree,\"activatable\":\"\",\"active\":_vm.selected_folder,\"return-object\":\"\"},on:{\"update:active\":function($event){_vm.selected_folder=$event}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{on:{\"mouseover\":function($event){_vm.hover_tree_id = item.id},\"mouseleave\":function($event){_vm.hover_tree_id = -1}}},[(item.children)?_c('v-icon',[_vm._v(\"folder\")]):_vm._e(),(!item.children)?_c('v-icon',[_vm._v(\"insert_drive_file\")]):_vm._e()],1)]}},{key:\"label\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{on:{\"mouseover\":function($event){_vm.hover_tree_id = item.id},\"mouseleave\":function($event){_vm.hover_tree_id = -1}}},[(false)?_c('v-text-field',{attrs:{\"value\":item.name,\"disabled\":\"\",\"solo\":\"\",\"flat\":\"\",\"single-line\":\"\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\"\\n                                                â\\n                                                \"),_c('a',[(item.id == _vm.hover_tree_id)?_c('v-icon',{on:{\"click\":function($event){return _vm.openEditNameDialog(item)}}},[_vm._v(\"edit\")]):_vm._e()],1),_c('a',[(item.id == _vm.hover_tree_id && item.children)?_c('v-icon',{on:{\"click\":function($event){return _vm.openNewFolderDialog(item)}}},[_vm._v(\"create_new_folder\")]):_vm._e()],1),_c('a',[(item.id == _vm.hover_tree_id && item.children)?_c('v-icon',{on:{\"click\":function($event){return _vm.openDeleteFolderDialog(item)}}},[_vm._v(\"delete_forever\")]):_vm._e()],1)],1)]}}])})],1)],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-card',{attrs:{\"flat\":\"\",\"height\":\"500px\"}},[_c('v-text-field',{attrs:{\"label\":\"Node Template Name\",\"rules\":[_vm.rules.required],\"clearable\":\"\"},model:{value:(_vm.save_name),callback:function ($$v) {_vm.save_name=$$v},expression:\"save_name\"}}),_c('v-textarea',{attrs:{\"label\":\"Node Description\",\"value\":\"Short description of what the node does.\",\"no-resize\":\"\",\"outline\":\"\"}}),_c('v-textarea',{attrs:{\"label\":\"Search keywords\",\"value\":\"\",\"hint\":\"Comma separated keywords\",\"no-resize\":\"\",\"outline\":\"\",\"persistent-hint\":\"\"}})],1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":_vm.saveNode}},[_vm._v(\"Save\")])],1)],1),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.add_folder_dialog),callback:function ($$v) {_vm.add_folder_dialog=$$v},expression:\"add_folder_dialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"gray\"}},[_c('v-toolbar-title',[_vm._v(\"New Folder\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.add_folder_dialog = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"New Folder Name\",\"rules\":[_vm.rules.required]},model:{value:(_vm.new_folder_name),callback:function ($$v) {_vm.new_folder_name=$$v},expression:\"new_folder_name\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"green\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":_vm.createNewFolder}},[_vm._v(\"Create\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.add_folder_dialog = false}}},[_vm._v(\"Cancel\")])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.delete_folder_dialog),callback:function ($$v) {_vm.delete_folder_dialog=$$v},expression:\"delete_folder_dialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"gray\"}},[_c('v-toolbar-title',[_vm._v(\"Delete Folder?\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.delete_folder_dialog = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1),_c('v-card-text',[_vm._v(\"\\n                    Are you sure you want to permanently delete the folder and all the content inside?\\n                \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"blue\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":_vm.deleteFolder}},[_vm._v(\"Yes, Delete It\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.delete_folder_dialog = false}}},[_vm._v(\"No\")])],1)],1)],1),_c('v-dialog',{attrs:{\"width\":\"500px\"},model:{value:(_vm.edit_name_dialog),callback:function ($$v) {_vm.edit_name_dialog=$$v},expression:\"edit_name_dialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":\"gray\"}},[_c('v-toolbar-title',[_vm._v(\"Edit Name\")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.edit_name_dialog = false}}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"New Name\",\"rules\":[_vm.rules.required]},model:{value:(_vm.new_item_name),callback:function ($$v) {_vm.new_item_name=$$v},expression:\"new_item_name\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"green\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":_vm.renameItem}},[_vm._v(\"Rename\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red\",\"flat\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.edit_name_dialog = false}}},[_vm._v(\"Cancel\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog v-model=\"save_dialog\" width=\"800\" persistent>          \n\t\t<v-card>      \n\t\t\t<v-toolbar dark color=\"gray\">              \n\t\t\t\t<v-toolbar-title>Save to Library</v-toolbar-title>   \n\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t<v-toolbar-items>                \n\t\t\t\t<v-btn icon dark @click=\"closeDialog\">\n\t\t\t\t\t<v-icon>close</v-icon>\n\t\t\t\t</v-btn>\n\t\t\t\t</v-toolbar-items>\n\t\t\t</v-toolbar>\n\n            <v-card-text>\n                <v-container grid-list-md>\n                    <v-layout row wrap>\n                        <v-flex xs6>\n                            <v-card style='overflow-y: scroll; border: 2px solid grey; border-radius: 1px;' height='500px' flat>\n                                <v-treeview :items=\"libraryTree\" ref='tree' activatable :active.sync=\"selected_folder\" return-object>                        \n                                        <template v-slot:prepend=\"{ item }\">\n                                            <div @mouseover=\"hover_tree_id = item.id\" @mouseleave=\"hover_tree_id = -1\">\n                                                <v-icon v-if=\"item.children\">folder</v-icon>\n                                                <v-icon v-if=\"!item.children\">insert_drive_file</v-icon>\n                                            </div>\n                                        </template>\n\n                                        <template v-slot:label=\"{item}\">\n                                            <div @mouseover=\"hover_tree_id = item.id\" @mouseleave=\"hover_tree_id = -1\">\n                                                <v-text-field v-if= 'false' :value='item.name' disabled solo flat single-line/>\n                                                <span>{{item.name}}</span>\n                                                &ensp;\n                                                <a><v-icon v-if=\"item.id == hover_tree_id\" @click='openEditNameDialog(item)'>edit</v-icon></a>\n                                                <a><v-icon v-if=\"item.id == hover_tree_id && item.children\" @click='openNewFolderDialog(item)'>create_new_folder</v-icon></a>\n                                                <a><v-icon v-if=\"item.id == hover_tree_id && item.children\" @click='openDeleteFolderDialog(item)'>delete_forever</v-icon></a>                                    \n                                            </div>\n                                        </template>                        \n                                </v-treeview>\n                            </v-card>\n                        </v-flex>\n                        \n                        <v-flex xs6 >\n                            <v-card flat height='500px'>\n                                <v-text-field label=\"Node Template Name\" v-model='save_name' :rules=\"[rules.required]\" clearable/>\n                                \n                                <v-textarea\n                                label=\"Node Description\"\n                                value=\"Short description of what the node does.\"\n                                no-resize\n                                outline\n                                ></v-textarea>\n\n                                <v-textarea\n                                label=\"Search keywords\"\n                                value=\"\"\n                                hint = 'Comma separated keywords'\n                                no-resize\n                                outline\n                                persistent-hint\n                                ></v-textarea>\n                            </v-card>\n                        </v-flex>\n                    \n                    </v-layout>\n                </v-container>\n                    \n            </v-card-text>\n\n            <v-card-actions>     \n\t\t\t\t<v-spacer/>         \n\t\t\t\t<v-btn color=\"blue\" flat dark @click='saveNode'>Save</v-btn>                          \n\t\t\t</v-card-actions>\n\n\t\t</v-card>\n\n\n        <v-dialog v-model='add_folder_dialog' width='500px'>\n            <v-card>      \n                <v-toolbar dark color=\"gray\">              \n                    <v-toolbar-title>New Folder</v-toolbar-title>   \n                    <v-spacer></v-spacer>\n                    <v-toolbar-items>                \n                    <v-btn icon dark @click=\"add_folder_dialog = false\">\n                        <v-icon>close</v-icon>\n                    </v-btn>\n                    </v-toolbar-items>\n                </v-toolbar>\n\n                <v-card-text>\n                    <v-text-field label=\"New Folder Name\" v-model='new_folder_name' :rules=\"[rules.required]\"/>\n                </v-card-text>\n\n                <v-card-actions>   \n                    <v-btn color=\"green\" flat dark @click='createNewFolder'>Create</v-btn>    \n                    <v-spacer/>         \n                    <v-btn color=\"red\" flat dark @click=\"add_folder_dialog = false\">Cancel</v-btn>                          \n                </v-card-actions>\n\t\t    </v-card>\n        </v-dialog>\n\n        <v-dialog v-model='delete_folder_dialog' width='500px'>\n            <v-card>      \n                <v-toolbar dark color=\"gray\">              \n                    <v-toolbar-title>Delete Folder?</v-toolbar-title>   \n                    <v-spacer></v-spacer>\n                    <v-toolbar-items>                \n                    <v-btn icon dark @click=\"delete_folder_dialog = false\">\n                        <v-icon>close</v-icon>\n                    </v-btn>\n                    </v-toolbar-items>\n                </v-toolbar>\n\n                <v-card-text>\n                    Are you sure you want to permanently delete the folder and all the content inside?\n                </v-card-text>\n\n                <v-card-actions>   \n                    <v-btn color=\"blue\" flat dark @click='deleteFolder'>Yes, Delete It</v-btn>    \n                    <v-spacer/>         \n                    <v-btn color=\"blue\" flat dark @click=\"delete_folder_dialog = false\">No</v-btn>                          \n                </v-card-actions>\n\t\t    </v-card>\n        </v-dialog>\n\n        <v-dialog v-model='edit_name_dialog' width='500px'>\n            <v-card>      \n                <v-toolbar dark color=\"gray\">              \n                    <v-toolbar-title>Edit Name</v-toolbar-title>   \n                    <v-spacer></v-spacer>\n                    <v-toolbar-items>                \n                    <v-btn icon dark @click=\"edit_name_dialog = false\">\n                        <v-icon>close</v-icon>\n                    </v-btn>\n                    </v-toolbar-items>\n                </v-toolbar>\n\n                <v-card-text>\n                    <v-text-field label=\"New Name\" v-model='new_item_name' :rules=\"[rules.required]\"/>\n                </v-card-text>\n\n                <v-card-actions>   \n                    <v-btn color=\"green\" flat dark @click='renameItem'>Rename</v-btn>    \n                    <v-spacer/>         \n                    <v-btn color=\"red\" flat dark @click=\"edit_name_dialog = false\">Cancel</v-btn>                          \n                </v-card-actions>\n\t\t    </v-card>\n        </v-dialog>\n\n\n    </v-dialog>\n</template>\n\n<script>\nexport default {\n    data(){\n        return{\n            selected_folder: [],\n            rename_dialog: false,\n            name_dialog: false,\n            save_name: 'New Template',\n            rules:{\n                required: value => !!value || 'Required.',\n            },\n            hover_tree_id: -1,    \n            add_folder_dialog: false,\n            delete_folder_dialog: false,\n            edit_name_dialog: false,\n            selected_item: {},    \n            new_folder_name: 'New Folder',  \n            new_item_name: '',\n        }\n    },\n    methods:{\n        closeDialog(){\n            this.$store.commit('set_dialog_open', false);\n        },\n        saveNode(){\n            if(this.save_name)\n            {\n                var data = {};\n                var node_data = {};\n\n                let node = this.$store.state.selected_node;\n                node_data.name = this.save_name;\n                node_data.code = node.code;\n                node_data.display_code = node.display_code;\n                node_data.display_act_code = node.display_act_code;\n\n                var path = this.selected_folder[0].path;\n\n                data.path = path;\n                data.node_data = node_data;\n\n                this.$socket.emit('save_to_library', data);\n                this.closeDialog();\n            }\n        },        \n        openNewFolderDialog(item){\n            this.selected_item = item;\n            this.new_folder_name = 'New Folder';\n            this.add_folder_dialog = true;\n        },\n        openDeleteFolderDialog(item){\n            this.selected_item = item;\n            this.delete_folder_dialog = true;\n        },\n        openEditNameDialog(item){\n            this.selected_item = item;\n            this.new_item_name = item.name;\n            this.edit_name_dialog = true;\n        },\n        createNewFolder(){\n\n        },\n        deleteFolder(){\n\n        },\n        renameItem(){\n\n        },\n    },\n    computed:{\n        save_dialog:{\n            get(){ return this.$store.state.save_dialog}            \n        },\n        libraryTree:{\n            get(){\n                return this.$store.state.libraryTree;\n            }\n        }       \n    }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibrarySaveDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibrarySaveDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LibrarySaveDialog.vue?vue&type=template&id=3eafa3e5&\"\nimport script from \"./LibrarySaveDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./LibrarySaveDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!C:/Projects/PyWeaver/client/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VTextarea } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\nimport { VTreeview } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VContainer,VDialog,VFlex,VIcon,VLayout,VSpacer,VTextField,VTextarea,VToolbar,VToolbarItems,VToolbarTitle,VTreeview})\n","<template>\n  <v-app>\n    <v-toolbar app dark fixed clipped-left>\n      <v-toolbar-title class=\"headline text-uppercase\">\n        <span>Py</span>\n        <span class=\"font-weight-light\">Weaver</span>\n        <span>2</span>\n      </v-toolbar-title>\n      <v-spacer></v-spacer>\n      \n      <v-toolbar-items>\n        <v-btn flat small v-on:click='OpenFile'>          \n          <span>Open file</span>\n          <v-icon>folder_open</v-icon>\n        </v-btn>\n        \n        <v-btn flat small v-on:click='SaveModel'>\n          <span>Save model</span>\n          <v-icon>cloud_download</v-icon>\n        </v-btn>\n      </v-toolbar-items>\n        \n      <v-chip color=\"green\" text-color=\"white\" v-if='connected'>Connected</v-chip>  \n      <v-chip color=\"red\" text-color=\"white\" v-if='!connected'>Disconnected</v-chip>\n    </v-toolbar>\n    <input type='file' id='fileInput' v-on:change='OpenModel($event)' hidden>\n\n    <SideBar/>\n\n    <v-content app> \n        <v-card height='100%'>\n          <div id='canvas' style='width:100%; height:100%'/>       \n        </v-card>\n    </v-content>\n\n    <CodeEditor/>\n    <LibrarySaveDialog/>\n\n    <v-footer class=\"pa-3\" app dark>\n      <v-btn color=\"gray\" dark v-on:click=\"resetServer\">Reset</v-btn>\n      <v-spacer></v-spacer>\n        <div>&copy; {{ new Date().getFullYear() }}</div>\n    </v-footer>\n\n  </v-app>\n</template>\n\n<script>\nimport Canvas from './NodeEditor/Canvas';\nimport CodeEditor from './components/CodeEditor'\nimport SideBar from './components/SideBar'\nimport LibrarySaveDialog from './components/LibrarySaveDialog'\n\nexport default {\n  name: 'App',\n  components: {\n    CodeEditor,\n    SideBar,\n    LibrarySaveDialog \n  },\n  data () {\n    return {           \n      connected: false,      \n    }\n  },  \n  mounted(){\n    var container = document.getElementById('canvas');    \n    var canvas = new Canvas(container, this.$store);\n    canvas.mount();\n    this.$store.commit('set_canvas', canvas);\n    },\n\n  methods:{\n    OpenFile: function(){\n      var file_obj = document.getElementById('fileInput');\n      file_obj.click();\n    },\n    OpenModel: function(ev){\n        const file = ev.target.files[0];\n        if (!file) {\n          return;\n        }\n        var reader = new FileReader();\n        reader.onload = (e) => {\n          var contents = e.target.result;\n          // Display file content\n          this.$store.state.canvas.LoadModel(contents);\n        };\n        reader.readAsText(file);\n      },\n      resetServer: function(){\n        //Resets server\n        this.$socket.emit('reset');\n        },\n      SaveModel: function(){\n        var xmlString = this.$store.state.canvas.GetModelXML();\n        \n        /*\n        mxUtils.post(url, 'xml='+xmlString, function(req)\n        {\n            // Process server response using req of type mxXmlRequest\n        });\n        */\n        var element = document.createElement('a');\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(xmlString));\n        \n        var file_name = this.$store.state.document_name + \".xml\";\n        \n        element.setAttribute('download', file_name);\n\n        element.style.display = 'none';\n        document.body.appendChild(element);\n        element.click();\n        document.body.removeChild(element);\n      },\n  },\n  computed:{           \n    document_name:{\n      get: function(){\n        return this.$store.state.document_name;\n      },\n      set:function(val){\n        this.$store.commit('set_document_name', val);\n      }\n    }\n  },\n  watch:{\n    code_dialog: function(new_val, old_val){\n      if(new_val){        \n        return setTimeout(() => {\n        this.$refs.code_editor.codemirror.refresh()\n        this.$refs.code_editor.codemirror.focus();\n        }, 200);        \n      }\n    }\n  },\n  sockets:{\n    connect: function(){\n      this.connected = true;      \n    },\n    disconnect: function(){\n      this.connected = false;\n    }\n  }\n}\n</script>\n\n<style>\n  .canvas{\n    height: 100vh;\n    width: 100vw;\n    overflow: hidden;\n  }\n\n  html{\n    overflow: hidden;\n  }\n</style>\n\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=b57b49f6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!C:/Projects/PyWeaver/client/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VChip } from 'vuetify/lib'\nimport { VContent } from 'vuetify/lib'\nimport { VFooter } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarItems } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VApp,VBtn,VCard,VChip,VContent,VFooter,VIcon,VSpacer,VToolbar,VToolbarItems,VToolbarTitle})\n","export const DISPLAY_NODE_ID_ATTR = \"node_id\";\nexport const DISPLAY_VAR_ATTR = \"is_variable\";\nexport const DISPLAY_VAR_NAME_ATTR = \"param_name\";\nexport const DISPLAY_CLASS = \"PyWeaverNodeDisplay\";\n\nexport default{\n    DISPLAY_NODE_ID_ATTR: DISPLAY_NODE_ID_ATTR,\n    DISPLAY_VAR_ATTR: DISPLAY_VAR_ATTR,\n    DISPLAY_VAR_NAME_ATTR: DISPLAY_VAR_NAME_ATTR,\n    DISPLAY_CLASS: DISPLAY_CLASS\n}","import DisplayConstants from '../Constants.js'\n\n\nexport default class CodeNode{\n\n    constructor(default_display, canvas, store){\n        this.canvas = canvas;\n        this.id = '';\n        this.inputs = {};\n        this.outputs = {};\n        this.code_source = 'local';\n        this.code = '';\n        this.display_code = default_display;\n        this.display_act_code = '';\n        this.cell_id = '';\n        this.cell = {}\n        this.compiled_display_code = '';\n        this.compileDisplayCode();\n        this.store = store;\n    }\n\n    setCell(cell){        \n        this.cell = cell;\n        this.id = cell.id;\n    }\n\n    compileDisplayCode(){\n        //The idea behind this is to wrapp the display code with a div which we can track easily.\n        //We then use the 'node' attribute to know which node/cell owns this code\n        //Then, before sending the \"excute\" event to the server, we should gather all the inputs and\n        //pass them to the server so that they can be injected to each node\n        this.compiled_display_code = \n        \"<div \"+DisplayConstants.DISPLAY_NODE_ID_ATTR+\"='\"+this.cell.id+\"' class='\"+DisplayConstants.DISPLAY_CLASS+\"'id='node_\"+this.cell.id+\"'>\"+\n        this.display_code +\n        \"</div>\";        \n    }\n\n    setCode(code){\n        this.code = code;\n        this.cell.code = code;\n    }\n\n    setDisplayCode(code){\n        this.display_code = code;\n        this.compileDisplayCode();\n        //this.cell.value = this.compiled_display_code;\n        this.cell.display_code = code;\n        //this.canvas.updateCell(this.cell);\n    }\n\n    setDisplayActCode(code){\n        this.display_act_code = code;\n        this.cell.display_act_code = code;\n    }\n}","import io from 'socket.io-client';\nexport default io('http://localhost:5000');","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:_vm.run_id},[_c('v-runtime-template',{attrs:{\"template\":_vm.template,\"display_code\":_vm.display_code}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\n\nexport const Val = {\n  bind(el, binding, vnode) {\n    //Example: v-val:test_var=\"10\" => sets test_var in the display's scope\n\n    //Only act if the valu has not been initialized.\n    //A better check should be implemented o nthe NodeDisplay component\n    if(!vnode.context['scope'][binding.arg])    \n      vnode.context['scope'][binding.arg] = binding.value;\n  }\n}\n\n// You can also make it available globally.\nVue.directive('val', Val)","import {Val} from '../../src/directives/InitDirective.js'\nimport Plotly from 'plotly.js-dist';\n\nconst getKeysFromOptions = options => [\n  ...Object.keys((options.data && options.data()) || {}),\n  ...Object.keys(options.props || {})\n];\n\nconst defineDescriptor = (src, dest, name) => {\n  if (!dest.hasOwnProperty(name)) {\n    const descriptor = Object.getOwnPropertyDescriptor(src, name);\n    Object.defineProperty(dest, name, descriptor);\n  }\n};\n\nconst merge = objs => {\n  const res = {};\n  objs.forEach(obj => {\n    obj &&\n      Object.getOwnPropertyNames(obj).forEach(name =>\n        defineDescriptor(obj, res, name)\n      );\n  });\n  return res;\n};\n\nconst buildFromProps = (obj, props) => {\n  const res = {};\n  props.forEach(prop => defineDescriptor(obj, res, prop));\n  return res;\n};\n\nexport default {\n  props: {\n    template: String,\n    display_code: String\n  },\n  directives:{\n    Val\n  },\n  data(){\n    return {\n      plotly: Plotly,\n    };\n  },\n  render(h) {\n    if (this.template) {\n      const { $data, $props, $options } = this.$parent;\n\n      var disp_code = '{}';\n      if(this.display_code)\n        disp_code = this.display_code;\n\n      //Update functions only if display code changed\n      if(disp_code != this.$parent.$data._previous_display_code){\n        //If the display code changed, delete the previous injected functions\n        var embedded_x = 'function(){return '+this.$parent.$data._previous_display_code+' }();';\n        var previousActionFunctions = Function(\"return \" + embedded_x)();\n        \n        //Iterate and delete the functions\n        for(var f in previousActionFunctions){        \n          delete $options.methods[f];\n          delete this.$parent[f];;\n        };\n\n        this.$parent.$data._previous_display_code = disp_code; //Backup last code\n        \n        embedded_x = 'function(){return '+disp_code+' }();';\n        var actionFunctions = Function(\"return \" + embedded_x)();     \n\n        //Inject methods into parent scope\n        for(var f in actionFunctions){\n          var boundFunc = actionFunctions[f].bind(this.$parent);        \n          //$options.methods[f] = actionFunctions[f];\n          //this.$parent[f] = actionFunctions[f];\n\n          $options.methods[f] = boundFunc;\n          this.$parent[f] = boundFunc;\n        };\n      }\n      \n      if(this.$parent.$data._previous_template != this.template)\n      {\n        this.$parent.$data.scope = {};\n        this.$parent.$data._previous_template = this.template;\n      }\n\n      const methodKeys = Object.keys($options.methods || {});\n      const allKeys = getKeysFromOptions($options).concat(methodKeys);\n      const methods = buildFromProps(this.$parent, methodKeys);\n      const props = merge([$data, $props, methods]);\n\n      const dynamic = {\n        template: this.template || \"<div></div>\",\n        props: allKeys,\n        computed: $options.computed,\n        components: $options.components\n      };\n\n      return h(dynamic, {\n        props\n      });\n    }\n  }\n};\n","<template>\n\t<div :key='run_id'>\n\t\t<v-runtime-template :template=\"template\" :display_code=\"display_code\"></v-runtime-template>   \n\t</div>\n</template>\n\n<script>\nimport VRuntimeTemplate from \"../../custom_modules/v-runtime-template/index.js\";\nimport EventBus from '../EventBus.js'\nimport {Val} from '../directives/InitDirective.js'\n\n//TODO: Change template init code and tie it to CodeNode default code\nexport default {\n  props: [ '_node', 'store'],\n  data: () => ({\n    id: '',\n    template: `<div>Node</div>`,\n    display_code:'{}',\n    scope: {},\n    node: {},\n    _previous_template: '',\n    _previous_display_code: '{}',\n  }),\n  components: {    \n    VRuntimeTemplate,\n  },\n  directives:{\n    Val\n  },\n  methods:{\n      changeCode(code){         \n            //Safeguarding display code\n            this.template ='<div>'+code+'</div>';          \n      },\n      changeAct(code){\n        this.display_code = code\n      },\n      updateDisplay(){\n        this.$forceUpdate();\n        if(this.onResults){\n          this.onResults();\n        }\n      }      \n  },\n  computed:{\n    run_id: function(){\n      return this.store.state.run_id;\n    }\n  },\n  mounted(){\n\n    //EventBus.$on('update_displays', (data) => {this.updateDisplay();});\n\n    this.node = new Proxy(this._node, {\n        get: (target, name, receiver) => {  \n\n          var return_val = null;\n\n          if(name != '__ob__'){     \n            //Ignore __ob__ request   \n            var id = null;\n            var var_name = null;\n            if(name in target.inputs){\n              console.log('input request');\n              //The requested var is an input\n              var source_data = target.inputs[name];\n              //Fetch the data from the store using source's data\n              if(source_data){\n                id = source_data.id;\n                var_name = source_data.var_name;\n              }\n            }\n            else{\n              //Fetch the data from the store using own data\n              id = target.id;\n              var_name = name;\n            }\n\n            if(id && var_name){\n              if(id in target.store.state.results){\n                if(var_name in target.store.state.results[id]){\n                  return_val = target.store.state.results[id][var_name];\n                }\n              }\n            }\n          }\n\n          return return_val;\n      }\n    });\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeDisplay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NodeDisplay.vue?vue&type=template&id=0b962492&\"\nimport script from \"./NodeDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./NodeDisplay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport CodeNode from './NodeEditor/CodeNode';\nimport socket from './socket.js'\n\nimport NodeDisplay from './components/NodeDisplay.vue'\nimport EventBus from './EventBus.js'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    canvas: {},\n    selected_node: {},\n    open_code_editor: false,\n    code: '',\n    display_code: '',\n    display_act_code: '',\n    code_nodes: {},\n    document_name: 'Untitled',\n    node_displays: {},\n    results: {},\n    auto_exec: false,\n    run_id: 0,\n    libraryTree: [],\n    save_dialog: false\n  },\n  mutations: {\n    tree_change: function(state, libraryTree){\n      state.libraryTree = libraryTree;\n    },\n    set_selected_node: function(state, node){      \n      state.selected_node = node;\n    },\n    open_editor: function(state, val){\n      state.open_code_editor = val;\n    },\n    set_dialog_open: function(state, val){\n      state.save_dialog = val;\n    },\n    set_canvas: function(state, canvas){\n      state.canvas = canvas;\n    },\n    set_code: function(state, code){\n      state.code = code;\n    },\n    set_display_code: function(state, code){\n      state.display_code = code;\n    },\n    set_display_act_code: function(state, code){\n      state.display_act_code = code;\n    },\n    set_document_name: function(state, name){\n      state.document_name = name;\n    }\n  },\n  actions: {\n    open_code_editor: function(context, node){      \n      context.commit('set_selected_node', node);\n      context.commit('set_code', node.code);\n      context.commit('set_display_code', node.display_code);\n      context.commit('set_display_act_code', node.display_act_code);\n      context.commit('open_editor', true);\n    },\n    add_empty_node: function(context){      \n      let canvas = context.state.canvas;\n\n      var node =  new CodeNode('Node', context.state.canvas, context);      \n      var node_cell = canvas.addNode(node);\n      var node_id = node_cell.id;\n\n      //Insert component into node\n      var ComponentClass = Vue.extend(NodeDisplay);\n      var instance = new ComponentClass({\n        propsData: {\n          _node: node,\n          store: context,          \n        }\n      });\n      instance.$mount(); // pass nothing\n      document.getElementById('node_'+node_id).appendChild(instance.$el);\n      context.state.node_displays[node_cell.id] = instance;\n      \n      context.state.code_nodes[node_cell.id] = node;\n      node.setCell(node_cell); \n\n      socket.emit('new_node', node_cell.id);        \n    },\n    add_node: function(context, node_data){\n      //TODO:      \n      //set selected_node and others\n\n      let canvas = context.state.canvas;\n      var node =  new CodeNode('Node', context.state.canvas, context);      \n      var node_cell = canvas.addNode(node);\n      var node_id = node_cell.id;\n\n      //Insert component into node\n      var ComponentClass = Vue.extend(NodeDisplay);\n      var instance = new ComponentClass({\n        propsData: {\n          _node: node,\n          store: context,          \n        }\n      });\n      \n      instance.$mount(); // pass nothing\n      document.getElementById('node_'+node_id).appendChild(instance.$el);\n      context.state.node_displays[node_cell.id] = instance;\n      \n      context.state.code_nodes[node_cell.id] = node;\n      node.setCell(node_cell); \n\n      context.commit('set_selected_node', node); //This is required by the 'save_node_code' action\n      socket.emit('new_node', node_cell.id); //This could be combined with the line below\n      context.dispatch('save_node_code', node_data) //Change the code.\n    },\n    socket_setLibraryTree(context, tree){\n      context.commit('tree_change', tree);\n    },\n    socket_changeNodeInputPorts(context, port_names){      \n      let canvas = context.state.canvas;\n      //let cell = context.state.selected_node.cell;\n      let cell_id = context.state.selected_node.cell.id;\n      let cell = context.state.code_nodes[cell_id].cell;\n      \n      //TODO: check what happens with dirtyness\n      //Reset port names in node\n\n      //TODO: this is killing input connections\n      context.state.code_nodes[cell_id].inputs = {}\n      for(var i in port_names){\n        context.state.code_nodes[cell_id].inputs[port_names[i]] = null;        \n      }\n      \n      canvas.changePorts(cell, port_names, 0, 'input'); \n    },\n    socket_changeNodeOutputPorts: function(context, port_names){      \n      let canvas = context.state.canvas;\n      //let cell = context.state.selected_node.cell\n      let cell_id = context.state.selected_node.cell.id;\n      let cell = context.state.code_nodes[cell_id].cell;\n\n      //Reset port names in node\n      //TODO: this is killing output connections\n      //Server should send \"delete connection\"\n      context.state.code_nodes[cell_id].outputs = {}\n      for(var i in port_names){\n        context.state.code_nodes[cell_id].outputs[port_names[i]] = null;        \n      }\n\n      canvas.changePorts(cell, port_names, 1, 'output'); \n    },\n    save_node_code: function(context, editor_data){\n      context.state.selected_node.setCode(editor_data.code);\n            \n      var node_id = context.state.selected_node.id;\n      context.state.node_displays[node_id].changeCode(editor_data.display_code);\n      context.state.selected_node.setDisplayCode(editor_data.display_code);\n\n      context.state.node_displays[node_id].changeAct(editor_data.display_act_code);\n      context.state.selected_node.setDisplayActCode(editor_data.display_act_code);     \n      \n      context.state.node_displays[node_id].updateDisplay();\n      EventBus.$emit('update_displays');\n\n      Vue.nextTick()\n        .then( () => {\n          var data = {};\n          data.code = editor_data.code;\n          data.id = context.state.selected_node.cell.id;      \n          socket.emit('edit_node_code', data);\n          context.dispatch('auto_execute');\n        });\n\n      //This is sent to the server to update i/o connections and save code\n      \n    },\n    add_connection(context, data){\n      socket.emit('make_connection', data);\n\n      //Makes a reference in the target node's input to the output of the source\n      context.state.code_nodes[data.target_id].inputs[data.target_var] = {id: data.source_id, var_name: data.source_var};\n      context.dispatch('auto_execute');\n    },\n    remove_connection(context, data){\n      socket.emit('delete_connection', data);\n      context.dispatch('auto_execute');\n    },\n    execute_server(context){\n\n      //Compiles the scope data of each display and passes it to the serve\n      var scope_data = {}\n      let ds = context.state.node_displays;\n      for(var key in ds){\n        scope_data[key] = ds[key].scope;\n      }\n\n      socket.emit('execute', scope_data, (data) => {\n        context.state.results = data;\n        context.state.run_id += 1;\n        EventBus.$emit('update_displays');\n      });\n      //TODO: process outputs and put them into:\n      //context.state.code_nodes[cell_id].inputs[i] = null;\n    },\n    auto_execute(context){\n      if(context.state.auto_exec){\n        context.dispatch('execute_server');\n      }\n    },\n    delete_node(context, id){\n      //TODO: Delete display component from context.state.node_displays\n      socket.emit('delete_node', id);\n    }\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:_vm.chart.uuid})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<div :ref=\"chart.uuid\"></div>   \n\t</div>\n</template>\n\n<script>\nimport Plotly from 'plotly.js-dist';\nexport default {\n    props: [\"chart\"],\n    mounted() {\n        Plotly.plot(this.$refs[this.chart.uuid], this.chart.traces, this.chart.layout);\n    },\n    watch: {\n        chart: {\n        handler: function() {\n            console.log('changed');\n            Plotly.newPlot(\n            this.$refs[this.chart.uuid],\n            this.chart.traces,\n            this.chart.layout\n            );\n        },\n        deep: true\n        }\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Plot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Plot.vue?vue&type=template&id=68945543&\"\nimport script from \"./Plot.vue?vue&type=script&lang=js&\"\nexport * from \"./Plot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport './plugins/vuetify'\nimport App from './App.vue'\nimport store from './store'\nimport VueSocketio from 'vue-socket.io-extended'\nimport socket from './socket.js';\n\nimport EventBus from './EventBus.js'\nimport { ObserveVisibility } from 'vue-observe-visibility'\nimport Plot from './components/Plot.vue'\n\nimport DisplayConstants from './Constants.js'\n\nVue.use(DisplayConstants);\nVue.component('plot', Plot);\n\nVue.config.productionTip = false;\n\nVue.use(VueSocketio, socket, {store});\n\nVue.directive('observe-visibility', ObserveVisibility)\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app')"],"sourceRoot":""}